import{r as c,j as e,L as y,u as R,A as de,a as q,b as me,R as ue,c as w,O as xe,d as he,e as ge}from"./index-TSzjY50t.js";import{_ as u,t as S,f as $}from"./services-Dx03o7LF.js";const fe="https://user-friendly.dev/learning-api/demos/capstone/",je="browser-mock-api-key",se=(s=!1,t=null)=>({error:s,message:t}),_=s=>{const t=se();return u.isObject(s)?(s.error?(t.error=!0,t.message=s.error):s.message?t.message=s.message:t.message="Success",{...s,...t}):t},E=async(s,t,n={},a=null)=>{u.isObject(n)||(n={});const r={method:s,credentials:"same-origin",headers:{...n,Authorization:`Bearer ${je}`,"Content-Type":"application/json",Accept:"application/json"}};a&&(r.body=JSON.stringify(a));let l=!1;try{l=await(await fetch(fe+t,r)).json()}catch(o){return console.error("failed to get resource",o),se(u.isObject(o)?o.toString():o)}return l},te="Capstone-Session",J="capstone_session_token",pe=s=>{try{return localStorage.setItem(J,JSON.stringify(s)),!0}catch(t){console.error(t)}return!1},ye=()=>{try{return JSON.parse(localStorage.getItem(J))}catch{ne()}return!1},ne=()=>localStorage.removeItem(J),be=async s=>{try{const t=JSON.stringify(s),n=await E("GET","plants",{[te]:t});return _(n)}catch{console.error("Failed to get plants list.")}return!1},ve=async(s,t)=>{try{const n=JSON.stringify(s),a=await E("GET",`plant/${t}`,{[te]:n});return _(a)}catch{console.error(`Failed to get plant {${t}}.`)}return!1},Ne=async(s,t,n)=>{const a=await E("POST","users",null,{username:s,password:t,password_confirm:n});return _(a)},Se=async(s,t)=>{const n=await E("POST","users/session",null,{username:s,password:t}),a=_(n);return u.isString(n.capstone_session_token)&&(a.payload=JSON.parse(n.capstone_session_token)),a},we=async s=>{const t=await E("DELETE","users/session",null,s);return _(t)},v=c.createContext(!1),I=s=>c.useContext(v).isActive()===!s.not?s.children:null,ke=`
	p-2 rounded-lg bg-emerald-100 select-none cursor-pointer
	hover:bg-emerald-200 active:bg-emerald-300 text-emerald-700
`,Ce="text-[2rem] p-2 select-none text-emerald-700",g=s=>{if(s.name===void 0)return e.jsx(e.Fragment,{});const t=s.name,n=s.className,a=u.omit(u.clone(s),["name","className"]);return e.jsx("span",{className:"material-symbols-outlined "+S(ke,n),...a,children:t})},k=s=>{if(s.name===void 0)return e.jsx(e.Fragment,{});const t=s.name,n=s.className,a=u.omit(u.clone(s),["name","className"]);return e.jsx("span",{className:"material-symbols-outlined "+S(Ce,n),...a,children:t})},ae=({linkstyle:s})=>e.jsx(I,{children:e.jsx(y,{className:s,to:"/plants",children:"Plant List"})}),le="py-2 px-1 font-lato font-medium hover:text-emerald-200 active:translate-y-0.5",Ie=`${le} hover:underline`,L=`
	bg-transparent text-white
	hover:bg-emerald-700 group-hover:bg-emerald-700 active:bg-emerald-600 group-active:bg-emerald-600
`,_e=`${L} rounded-full animate-spin`,M=`${le} relative group flex items-center`,D="px-1 group-hover:underline",Ee=`${L}`,Oe=()=>{const s=R(),t=c.useContext(v),[n,a]=c.useState(!1),r=async l=>{l.stopPropagation(),!n&&(a(!0),await t.signOut()&&s("/"),a(!1))};return e.jsx("div",{className:"hidden sm:flex justify-center bg-emerald-800",children:e.jsxs("div",{className:"w-full max-w-5xl flex p-8 justify-end items-center text-white",children:[e.jsx("div",{className:"flex-1 flex",children:e.jsxs(y,{to:"/",className:"p-2 flex justify-start items-center",children:[e.jsx("img",{className:"w-10",title:"brand logo",src:"https://static-task-assets.react-formula.com/capstone_logo_light.png"}),e.jsx("span",{className:"ml-4 font-playfair text-2xl",children:"Rica's Plants"})]})}),e.jsx(ae,{linkstyle:Ie}),e.jsxs(I,{children:[e.jsxs(y,{className:M,children:[e.jsx("span",{className:D,children:u.get(t,"data.username")}),e.jsx(g,{name:"account_circle",className:Ee})]}),e.jsxs(y,{onClick:r,className:M,children:[e.jsx("span",{className:D,children:"Sign Out"}),n&&e.jsx(g,{name:"progress_activity",className:_e})||e.jsx(g,{name:"logout",className:L})]})]}),e.jsx(I,{not:!0,children:e.jsxs(y,{className:M,to:"/sign-in",children:[e.jsx("span",{className:D,children:"Sign In"}),e.jsx(g,{name:"login",className:L})]})})]})})},Pe=`
	w-8 h-8 animate-spin rounded-full
	border-8 border-emerald-600 border-t-emerald-200
`,O=s=>{const t=s.className,n=u.omit(u.clone(s),["name","className","children"]);return e.jsx("div",{...n,className:S(Pe,t),children:s.children})},T=`
	my-1 py-2 px-3 bg-emerald-200 rounded-lg
	text-center font-lato font-medium text-emerald-800 hover:text-emerald-300 hover:bg-emerald-600
`,Ae="self-end bg-emerald-800 text-emerald-200 hover:text-emerald-300 hover:bg-emerald-600",Te="self-end bg-emerald-200 text-emerald-800 hover:text-emerald-300 hover:bg-emerald-600",Le=`w-6 h-6 absolute top-2 right-2.5
	border-4 border-transparent border-t-emerald-800 group-hover:border-t-emerald-300
`,Fe=()=>{const s=R(),t=c.useContext(v),n=c.useRef(),[a,r]=c.useState(!1),[l,o]=c.useState(!1),m=i=>{r(l)};c.useEffect(()=>{const i=N=>{n.current&&!n.current.contains(N.target)&&m()};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[l]);const d=a?e.jsx(g,{name:"close",className:Te,onClick:i=>r(l)}):e.jsx(g,{name:"menu",className:Ae,onClick:i=>r(!0)}),h=async i=>{i.stopPropagation(),!l&&(o(!0),await t.signOut()&&s("/"),o(!1),r(!1))};return e.jsxs("div",{ref:n,className:$("sm:hidden fixed top-2 right-2 w-40 p-2 flex flex-col justify-center",a&&"bg-emerald-800 rounded-lg shadow-lg"),children:[d,e.jsxs("div",{className:"flex flex-col justify-center "+(a?null:"hidden"),onClick:m,children:[e.jsx(y,{className:T,to:"/",children:"Home"}),e.jsx(ae,{linkstyle:T}),e.jsx(I,{children:e.jsxs("button",{onClick:h,className:T+"relative group",to:"/sign-out",children:["Sign Out",l&&e.jsx(O,{className:Le})]})}),e.jsx(I,{not:!0,children:e.jsx(y,{className:T,to:"/sign-in",children:"Sign In"})})]})]})},G=`
	my-1 py-2 px-3 bg-sky-200 rounded-lg
	text-center font-lato font-medium text-sky-800 hover:text-sky-300 hover:bg-sky-600
`,z="self-end bg-sky-200 text-sky-800 hover:text-sky-300 hover:bg-sky-600",Re=()=>{const s=c.useRef(),[t,n]=c.useState(!1);c.useEffect(()=>{const r=l=>{s.current&&!s.current.contains(l.target)&&n(!1)};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]);const a=t?e.jsx(g,{name:"close",className:z,onClick:r=>n(!1)}):e.jsx(g,{name:"menu",className:z,onClick:r=>n(!0)});return e.jsxs("div",{ref:s,className:$("fixed bottom-2 right-2 w-40 p-2 flex flex-col-reverse justify-center",t&&"bg-sky-100 rounded-lg shadow-lg"),children:[a,e.jsxs("div",{className:"flex flex-col justify-center "+(t?null:"hidden"),onClick:()=>n(!1),children:[e.jsx(de,{className:G,appid:"default",children:"Main App"}),e.jsx(y,{className:G,to:"/style-guide",children:"Style Guide"}),e.jsx(y,{className:G,to:"/",children:"Rica's Plants"})]})]})},P=()=>e.jsxs(e.Fragment,{children:[e.jsx(Fe,{}),e.jsx(Oe,{}),e.jsx(Re,{})]}),$e=()=>e.jsxs("div",{className:"h-screen bg-rose-50 flex flex-col",children:[e.jsx(P,{}),e.jsxs("div",{className:"pt-36 flex flex-col justify-center items-center",children:[e.jsxs("h1",{className:"my-3 px-3 text-4xl text-center",children:["Error 404: ",e.jsx("br",{className:"sm:hidden"})," Page Not Found"]}),e.jsx("p",{className:"py-3 px-8 max-w-xl",children:"The page you requested was not found. Please, contact the webadmin if this is a real issue. You might also be a snowflake if you contact the webadmin."})]})]}),Be=!1,A=s=>{const t=c.useContext(v),n=R(),a=s.path!==void 0?s.path:"/",r=s.delay!==void 0?s.delay:Be;return c.useEffect(()=>{if(t.isActive()===!s.not)if(r!==!1){const l=setTimeout(()=>n(a),r);return()=>clearTimeout(l)}else n(a)},[t.data]),s.children},F=c.createContext(0),Me="",j=s=>{const t=c.useContext(F);return e.jsx(F.Provider,{value:t+1,children:e.jsx("div",{className:S(Me,s.className),children:s.children})})},V=["","ml-2","ml-6","ml-10","ml-14","ml-20"],re=()=>{const s=c.useContext(F);return s<7?V[s-1]:V[5]},De="my-2",f=s=>{const t=re();return e.jsx("p",{className:S(De,t,s.className),children:s.children})},Ge=["text-6xl","text-5xl","text-4xl","text-3xl","text-2xl","text-xl"],He="text-xl font-playfair",Ue=s=>{switch(s.level){case 0:case 1:return e.jsx("h1",{...s,children:s.children});case 2:return e.jsx("h2",{...s,children:s.children});case 3:return e.jsx("h3",{...s,children:s.children});case 4:return e.jsx("h4",{...s,children:s.children});case 5:return e.jsx("h5",{...s,children:s.children});case 6:default:return e.jsx("h6",{...s,children:s.children})}return e.jsx("div",{...s,children:s.children})},p=s=>{const t=c.useContext(F),n=re();return e.jsx(Ue,{level:t,className:S(He,n,Ge[t-1],s.className),children:s.children})},Ye=()=>e.jsxs(A,{not:!0,path:"/sign-in",children:[e.jsx(P,{}),e.jsxs(j,{className:"p-8 mx-auto w-full max-w-5xl",children:[e.jsx(p,{className:"p-2 text-center",children:"Welcome to Rica's Plants"}),e.jsx(f,{children:"Your one-stop destination for all things green and growing! Our passion for plants shines through in our diverse selection of lush houseplants, exotic succulents, and vibrant garden favorites. We believe that plants bring more than just beauty to a space; they breathe life into your home, purify your air, and uplift your spirit. Whether you’re a seasoned green thumb or a first-time plant parent, we’re here to help you cultivate the perfect indoor oasis."}),e.jsx(f,{children:"At Rica's Plants, we understand that every plant has its own personality and needs. That's why we offer detailed care guides, personalized recommendations, and friendly support to ensure your plants thrive. From bright, sun-loving cacti to delicate, shade-loving ferns, we have options to suit every environment and lifestyle. Our commitment to quality means that each plant is carefully selected and nurtured until it's ready to become part of your space."}),e.jsx(f,{children:"Discover the joy of nurturing your own slice of nature with our specially curated collections. Our selection changes with the seasons, allowing you to find the freshest additions to your plant family throughout the year. Explore our rare finds section for unique specimens that will make your collection truly stand out. Join our community of plant lovers and embark on a journey of growth, inspiration, and endless greenery."})]})]}),b=`
	The quick brown fox jumps over the lazy dog, darting swiftly across the field with grace.
	As it leaps, its sleek fur glistens under the afternoon sun, casting fleeting shadows on the
	ground. The dog, unmoved by the fox's antics, lies lazily on the grass, its eyes half-closed
	in contentment. Around them, the sounds of nature fill the air: the chirping of birds,
	the rustling of leaves, and the distant hum of a breeze that stirs the tall grass. Time seems
	to slow in this peaceful moment, where the simple beauty of the scene speaks louder than words.
`,qe=()=>e.jsxs(e.Fragment,{children:[e.jsx(P,{}),e.jsxs("div",{className:"p-6 m-auto max-w-5xl ",children:[e.jsx("h1",{className:"my-4 text-5xl",children:"Heading"}),e.jsx("div",{className:"my-4 text-xl font-playfair",children:"Font Playfair Display test. This here is some random text to test the given font."}),e.jsx("div",{className:"my-4 text-xl font-lato",children:"Font Lato test. This here is some random text to test the given font."}),e.jsxs("div",{children:[e.jsx("h2",{className:"my-4 text-4xl",children:"Icons"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsx(g,{name:"menu"}),e.jsx(g,{name:"home",className:"text-4xl"}),e.jsx(g,{name:"account_circle"}),e.jsx(g,{name:"login"}),e.jsx(g,{name:"progress_activity",className:"rounded-full bg-transparent text-amber-700 hover:bg-amber-200 active:bg-amber-300 animate-spin"}),e.jsx(g,{name:"logout"}),e.jsx(g,{name:"close",className:"bg-violet-100 text-violet-700 hover:bg-violet-200 active:bg-violet-300"})]})]})]}),e.jsxs(j,{className:"my-20",children:[e.jsx(p,{children:"Sub heading"}),e.jsx(f,{children:b}),e.jsxs(j,{children:[e.jsx(p,{children:"Sub heading"}),e.jsx(f,{children:b}),e.jsxs(j,{children:[e.jsx(p,{children:"Sub heading"}),e.jsx(f,{children:b}),e.jsxs(j,{children:[e.jsx(p,{children:"Sub heading"}),e.jsx(f,{children:b}),e.jsxs(j,{children:[e.jsx(p,{children:"Sub heading"}),e.jsx(f,{children:b}),e.jsxs(j,{children:[e.jsx(p,{children:"Sub heading"}),e.jsx(f,{children:b}),e.jsxs(j,{children:[e.jsx(p,{children:"Sub heading"}),e.jsx(f,{children:b}),e.jsxs(j,{children:[e.jsx(p,{children:"Sub heading"}),e.jsx(f,{children:b})]})]})]})]})]})]})]})]}),e.jsxs(j,{className:"my-20",children:[e.jsx(p,{children:"Sub heading"}),e.jsx(f,{children:b}),e.jsxs(j,{children:[e.jsx(p,{children:"Sub heading"}),e.jsx(f,{children:b})]})]})]}),H={text:"p-1 px-2 rounded-lg border border-slate-300 text-slate-600 bg-slate-50 focus:outline-emerald-600",button:"py-2 cursor-pointer rounded-lg text-white bg-green-800 hover:bg-green-700 active:bg-green-600",submit:"py-2 cursor-pointer rounded-lg text-white bg-green-800 hover:bg-green-700 active:bg-green-600"},U={text:"ml-3 mb-2 -mt-2 text-slate-400",button:"hidden"},Je=({name:s,value:t,type:n="text",label:a,placeholder:r="",onChange:l,isButton:o=!1,onClick:m})=>{const d=c.useId(),h=H[n]!==void 0?H[n]:H.text,i=U[n]!==void 0?U[n]:U.text;return e.jsxs("div",{className:"my-3 flex flex-col",children:[a&&e.jsx("label",{className:i,htmlFor:d,children:a}),o?e.jsx("button",{className:h,type:n,name:s,id:d,onClick:m,children:t}):e.jsx("input",{className:h,type:n,name:s,id:d,placeholder:r,value:t,onChange:l})]})},ze=`
	m-4 pt-2 pb-4 px-8 bg-white border rounded-lg border-slate-300 font-lato font-medium
	min-w-80 flex flex-col 
`,Ve=s=>{for(const t of s)if(t.name===void 0)throw"Form fields MUST have names."},Ke=s=>{const t={};for(const n of s)t[n.name]=n.value!==void 0?n.value:"";return t},We=(s,t,n)=>({...s,[t]:n}),oe=s=>{Ve(s.fields);const t=c.useId(),[n,a]=c.useState(()=>Ke(s.fields)),r=o=>{o.preventDefault(),s.onSubmit(n,t,o)},l=u.assign(u.omit(s,["fields"]),{className:ze,name:`form-${t}`,method:"POST",action:"",onSubmit:r});return e.jsxs("form",{...l,children:[s.fields.map((o,m)=>e.jsx(Je,{onChange:d=>a(We(n,o.name,d.target.value)),...o,value:o.isButton?o.value:n[o.name]},m)),l.children]})},ce=s=>{const t=s.children,n=s.status?s.status:{error:!1,message:null};return n.error!==!1&&!n.message&&(n.message="Something went wrong - try again later"),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"relative hidden md:block",children:[e.jsx("img",{className:"h-screen object-cover",title:"plants on a rack",src:"https://static-task-assets.react-formula.com/capstone_sign_in_scene.png"}),e.jsx("div",{className:"absolute inset-0 w-full h-full bg-black/10"}),e.jsx("div",{className:"absolute inset-0 w-full h-full bg-emerald-800/40"})]}),e.jsxs("div",{className:"h-screen flex-1 bg-emerald-50 flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"flex flex-col items-center mx-2 my-8",children:[e.jsx("img",{className:"w-16 mb-2 ",title:"brand logo",src:"https://static-task-assets.react-formula.com/capstone_logo_dark.png"}),e.jsx("div",{className:"font-playfair text-emerald-700 text-2xl",children:"Rica's Plants"})]}),n.message?e.jsx("div",{className:$("animate-slideDown py-1 px-2 rounded-lg border",n.error?"bg-red-100 border-red-600 text-red-600 font-medium":"text-emerald-800 bg-emerald-100 border-emerald-600"),children:n.message}):null,t]})]})},Qe=1500,K=()=>({error:!1,message:null}),Xe=()=>{const s=c.useContext(v),t=q(),[n,a]=c.useState(!1),[r,l]=c.useState(!1),[o,m]=c.useState(()=>u.has(t,"state.status.message")?t.state.status:K()),d=async(N,x,B)=>{if(r||s.isActive())return;console.log(`Sing up form {${x}} submitted.`),console.log("Values:",N),l(!0),m(K());const C=await Se(N.username,N.password);C.error===!1&&u.isObject(C.payload)&&(console.log("Login successful. Login details:",C.payload),s.signIn(C.payload),a(Qe)),m({error:C.error,message:C.message}),l(!1)},h=e.jsx("span",{className:"flex justify-center",children:e.jsxs("span",{className:"relative",children:["Sign In ",r?e.jsx(O,{className:"absolute top-0 -right-8 ml-2 w-6 h-6 border-4 border-transparent border-t-white"}):null]})}),i=[{name:"username",label:"username",value:u.has(t,"state.username")?t.state.username:void 0,type:"text"},{name:"password",label:"password",type:"password"},{name:"submit_button",value:h,type:"submit",isButton:!0}];return e.jsx(A,{path:"/plants",delay:n,children:e.jsxs(ce,{status:o,children:[e.jsx(oe,{onSubmit:d,fields:i}),e.jsx(y,{to:"/sign-up",className:"text-sm text-green-700 underline hover:text-green-500",children:"Create an Account"})]})})},W=()=>({error:!1,message:null}),Ze=()=>{const s=c.useContext(v),t=R(),[n,a]=c.useState(!1),[r,l]=c.useState(()=>W()),o=async(h,i,N)=>{if(n||s.isActive())return;console.log(`Sing up form {${i}} submitted.`),console.log("Values:",h),a(!0),l(W());const x=await Ne(h.username,h.password,h.password_confirm);if(x.error===!1){const B=u.clone(x);B.message="You can login with Your username & password",x.message=e.jsxs(e.Fragment,{children:[x.message,e.jsx("br",{}),"Redirecting You to Sing In page..."]}),setTimeout(()=>t("/sign-in",{state:{status:B,username:h.username}}),1500)}l(x),a(!1)},d=[{label:"username",name:"username",type:"text"},{label:"password",name:"password",type:"password"},{label:"confirm password",name:"password_confirm",type:"password"},{name:"submit_button",value:e.jsx("span",{className:"flex justify-center",children:e.jsxs("span",{className:"relative",children:["Create an Account ",n?e.jsx(O,{className:"absolute top-0 -right-8 ml-2 w-6 h-6 border-4 border-transparent border-t-white"}):null]})}),type:"submit",isButton:!0}];return e.jsx(A,{path:"/plants",children:e.jsxs(ce,{status:r,children:[e.jsx(oe,{onSubmit:o,fields:d}),e.jsx(y,{to:"/sign-in",className:"text-sm text-green-700 underline hover:text-green-500",children:"Log into Account"})]})})},ie={stone:"bg-stone-200",slate:"bg-slate-300",sky:"bg-sky-700",black:"bg-gray-600",white:"bg-gray-50",amber:"bg-amber-600"},es=s=>{const{images:t,selected:n,className:a,onClick:r,onMouseEnter:l,onMouseLeave:o,buttonStyle:m,labelStyle:d}=s;return e.jsx("div",{className:a,children:t.map((h,i)=>e.jsx("div",{className:"mx-1 flex flex-col items-center "+(n===i&&"group selected"),children:e.jsx("button",{className:S("w-5 h-5 rounded-full block",n===i&&"outline outline-1 outline-offset-2 outline-slate-400",ie[t[i].pot_color],m),onClick:()=>r(i),onMouseEnter:()=>l(i),onMouseLeave:()=>o(i)})},i))})},ss={stone:"text-stone-400",slate:"text-slate-500",sky:"text-sky-700",black:"text-gray-600",white:"text-gray-400",amber:"text-amber-600"},ts=s=>{const[t,n]=c.useState(()=>u.random(0,s.data.images.length-1)),[a,r]=c.useState(t),{data:l}=s,o=Number(l.price).toFixed(2),m=l.images[a].pot_color;return e.jsxs("div",{className:"mx-5 my-8",children:[e.jsx(y,{to:`/plant/${l.uuid}`,state:{plantImageIdx:t},children:e.jsx("img",{className:"w-[280px] h-[320px] object-cover rounded-md",alt:l.description,src:l.images[a].src})}),e.jsxs("div",{className:"my-3 flex justify-between",children:[e.jsx("div",{className:"text-xl text-emerald-700",children:l.name}),e.jsxs("div",{className:"text-lg text-emerald-600",children:["$",o]})]}),e.jsxs("div",{className:"my-3 flex justify-between",children:[e.jsx("div",{className:ss[m]+" font-medium",children:m}),e.jsx(es,{className:"flex justify-end",images:l.images,selected:t,onClick:d=>{n(d),r(d)},onMouseEnter:d=>r(d),onMouseLeave:()=>r(t)})]})]})},Y=1,ns=()=>{const s=c.useContext(v),[t,n]=c.useState(null),[a,r]=c.useState({error:!1}),l=async()=>{if(t===Y)return;r({error:!1}),n(Y);const d=await be(s==null?void 0:s.data);d.error===!1?n(d.data):(console.error("Failed to get plants list. Response:",d),n(null)),r(d)};c.useEffect(()=>{l()},[s.data]);const o=e.jsx(g,{name:"refresh",className:$("rounded-full",t===Y&&"animate-spinOnce")}),m=e.jsx(O,{className:"mt-28"});return e.jsxs(A,{not:!0,path:"/sign-in",children:[e.jsx(P,{}),e.jsx(j,{className:"py-24 flex justify-center",children:e.jsxs("div",{className:"w-full max-w-5xl",children:[e.jsxs(p,{className:"px-8 text-4xl",children:["Plants In Stock ",e.jsx("button",{onClick:()=>l(),children:o})]}),e.jsx("div",{className:"flex flex-wrap justify-center",children:u.isArray(t)&&t.map((d,h)=>e.jsx(ts,{data:d},d.id))||(a==null?void 0:a.error)===!1&&m}),(a==null?void 0:a.error)!==!1&&e.jsx("div",{className:"px-2 py-1 max-w-80 bg-rose-100 border border-rose-300 rounded-lg text-red-600 font-medium",children:a.message})]})})]})},Q=s=>{const{plant:t,className:n}=s;return e.jsxs("div",{className:n,children:[e.jsxs(p,{className:"text-4xl flex justify-between",children:[e.jsx("span",{children:t.name}),e.jsxs("span",{className:"font-lato",children:["$",t.price]})]}),e.jsx("span",{className:"my-2 inline-block italic text-gray-400 text-lg",children:t.botanical_name})]})},X=s=>{const{images:t,selected:n,className:a,onClick:r,onMouseEnter:l,onMouseLeave:o}=s,m=`m-2 w-8 h-8 outline-2 md:w-12 md:h-12 md:outline-offset-4
		hover:outline hover:outline-1 group-[.selected]:hover:outline-2 hover:outline-slate-400`,d="text-lg md:text-xl text-slate-400 group-[.selected]:font-bold group-[.selected]:text-slate-600";return e.jsxs("div",{className:a,children:[e.jsxs("div",{className:"flex items-center text-2xl font-bold",children:[e.jsx(k,{className:"text-4xl",name:"format_paint"})," Pot Color"]}),e.jsx("div",{className:"flex flex-wrap justify-start",children:t.map((h,i)=>e.jsxs("div",{className:"mx-1 flex flex-col items-center "+(n===i&&"group selected"),children:[e.jsx("button",{className:S("w-5 h-5 rounded-full block",n===i&&"outline outline-1 outline-offset-2 outline-slate-400",ie[t[i].pot_color],m),onClick:()=>r(i),onMouseEnter:()=>l(i),onMouseLeave:()=>o(i)}),e.jsx("span",{className:d,children:t[i].pot_color})]},i))})]})},as=s=>e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"my-4 px-4 flex flex-col items-center border-r border-gray-300",children:[e.jsx(k,{name:"check_circle",className:"text-5xl"}),e.jsx("span",{className:"my-1 font-bold text-gray-700 text-center",children:"Guaranteed Healthy"}),e.jsx("span",{className:"text-gray-400 text-center",children:"Guaranteed to arrive healthy or your money back"})]}),e.jsxs("div",{className:"my-4 px-4 flex flex-col items-center",children:[e.jsx(k,{name:"delivery_truck_speed",className:"text-5xl"}),e.jsx("span",{className:"my-1 font-bold text-gray-700 text-center",children:"Free Shipping"}),e.jsx("span",{className:"text-gray-400 text-center",children:"Get free ground shipping on orders of $50 or more"})]})]}),Z=({quantity:s,inProgress:t=!1,className:n,onAddToCart:a,onIncrease:r,onDecrease:l})=>{const o="text-2xl rounded-full border-2 border-neutral-400 flex items-center",m="px-2 py-1 text-4xl font-bold text-neutral-500",d=`ml-2 p-2 w-full max-w-80 rounded-full
		flex justify-center items-center
		bg-emerald-700 hover:bg-emerald-800 active:bg-emerald-600 font-medium text-white text-lg`,h=e.jsx(k,{className:"text-white",name:"add_shopping_cart"}),i=e.jsx(k,{className:"text-white animate-spin",name:"progress_activity"});return e.jsxs("div",{className:S("my-4 flex items-center",n),children:[e.jsxs("div",{className:o,children:[e.jsx("button",{className:m,onClick:l,children:e.jsx(k,{className:"text-neutral-600",name:"remove"})}),e.jsx("span",{children:s}),e.jsx("button",{className:m,onClick:r,children:e.jsx(k,{className:"text-neutral-600",name:"add"})})]}),e.jsxs("button",{className:d,onClick:a,children:[t?i:h," Add to Cart"]})]})},ls=s=>{const t=q(),[n,a]=c.useState(()=>u.has(t,"state.plantImageIdx")?t.state.plantImageIdx:0),[r,l]=c.useState(n),[o,m]=c.useState(1),[d,h]=c.useState(!1),{plant:i}=s,N=x=>{d||(h(!0),setTimeout(()=>{h(!1),console.log(`Added {${o}} {${i.images[n].pot_color}} plants to cart.`)},1500))};return e.jsxs("div",{className:"w-full max-w-5xl flex flex-col md:flex-row",children:[e.jsx(Q,{className:"md:hidden",plant:i}),e.jsx(X,{className:"my-4 md:hidden",images:i.images,selected:n,onClick:x=>{a(x),l(x)},onMouseEnter:x=>l(x),onMouseLeave:()=>l(n)}),e.jsx(Z,{className:"md:hidden",quantity:o,inProgress:d,onAddToCart:N,onIncrease:x=>m(o+1),onDecrease:x=>m(o>1?o-1:1)}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("img",{className:"rounded-lg",title:i.botanical_name,src:i.images[r].src}),e.jsx(as,{})]}),e.jsxs("div",{className:"md:ml-8 flex-1 flex flex-col",children:[e.jsx(Q,{className:"hidden md:block",plant:i}),e.jsx(f,{className:"py-2 px-0 text-gray-600",children:i.description}),e.jsx(X,{className:"my-4 hidden md:block",images:i.images,selected:n,onClick:x=>{a(x),l(x)},onMouseEnter:x=>l(x),onMouseLeave:()=>l(n)}),e.jsx(Z,{className:"hidden md:flex",quantity:o,inProgress:d,onAddToCart:N,onIncrease:x=>m(o+1),onDecrease:x=>m(o>1?o-1:1)})]})]})},ee=1,rs=()=>{const s=c.useContext(v),{uuid:t}=me(),[n,a]=c.useState(null),[r,l]=c.useState({error:!1}),o=async()=>{if(n===ee)return;l({error:!1}),a(ee);const d=await ve(s==null?void 0:s.data,t);d.error===!1?a(d.data):(console.error("Failed to get plants list. Response:",d),a(null)),l(d)};c.useEffect(()=>{o()},[s.data,t]);const m=e.jsx("div",{className:"flex justify-center",children:e.jsx(O,{className:"mt-28"})});return e.jsxs(A,{not:!0,path:"/sign-in",children:[e.jsx(P,{}),e.jsxs(j,{className:"py-24 px-8 flex justify-center",children:[(r==null?void 0:r.error)!==!1&&e.jsxs("div",{className:"px-2 py-1 m-auto text-center max-w-80 bg-rose-100 border border-rose-300 rounded-lg text-red-600 font-medium",children:[r.message,e.jsx("br",{}),e.jsx("button",{onClick:()=>o(),className:"px-2 py-1 border border-gray-600 rounded-md",children:"Retry?"})]}),u.isObject(n)&&e.jsx(ls,{plant:n})||(r==null?void 0:r.error)===!1&&m]})]})},os=()=>e.jsx(e.Fragment,{children:e.jsx(xe,{})}),cs=()=>(q(),c.useContext(v),e.jsx(ue,{children:e.jsxs(w,{element:e.jsx(os,{}),children:[e.jsx(w,{path:"/",element:e.jsx(Ye,{})}),e.jsx(w,{path:"/sign-in",element:e.jsx(Xe,{})}),e.jsx(w,{path:"/sign-up",element:e.jsx(Ze,{})}),e.jsx(w,{path:"/style-guide",element:e.jsx(qe,{})}),e.jsx(w,{path:"/plants",element:e.jsx(ns,{})}),e.jsx(w,{path:"/plant/:uuid",element:e.jsx(rs,{})}),e.jsx(w,{path:"*",element:e.jsx($e,{})})]})})),is="bg-emerald-50 font-lato text-emerald-600",ds=he([{path:"*",element:e.jsx(cs,{})}]),xs=()=>{const[s,t]=c.useState(()=>ye()),n={data:s,isActive:()=>u.isObject(s),signIn:a=>{t(a),pe(a)},signOut:async()=>{let a=!1;return u.isObject(s)?(console.log(`Sign out user {${s.username}}.`),a=await we(s)):console.log("No user was signed in."),t(null),ne(),a}};return e.jsx(v.Provider,{value:n,children:e.jsx("div",{className:`${is} min-h-screen`,children:e.jsx(ge,{router:ds})})})};export{xs as default};
