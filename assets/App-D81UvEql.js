import{_ as p,r as o,j as t,L as T,b as ve,A as et,u as Me,U as tt,c as st,R as nt,a as P,O as at,d as rt,e as lt}from"./index-tpZYpWNX.js";import{j as O,l as q}from"./services-CCimaRqh.js";const ot="https://user-friendly.dev/learning-api/demos/capstone/",ct="browser-mock-api-key",Be=(e=!1,s=null)=>({error:e,message:s}),B=e=>{const s=Be();return p.isObject(e)?(e.error?(s.error=!0,s.message=e.error):e.message?s.message=e.message:s.message="Success",{...e,...s}):s},$=async(e,s,n={},a=null)=>{p.isObject(n)||(n={});const r={method:e,credentials:"same-origin",headers:{...n,Authorization:`Bearer ${ct}`,"Content-Type":"application/json",Accept:"application/json"}};a&&(r.body=JSON.stringify(a));let l=!1;try{l=await(await fetch(ot+s,r)).json()}catch(i){return console.error("failed to get resource",i),Be(p.isObject(i)?i.toString():i)}return l},K="Capstone-Session",pe="capstone_session_token",it=e=>{try{return localStorage.setItem(pe,JSON.stringify(e)),!0}catch(s){console.error(s)}return!1},dt=()=>{try{return JSON.parse(localStorage.getItem(pe))}catch{$e()}return!1},$e=()=>localStorage.removeItem(pe),ut=async e=>{try{const s=JSON.stringify(e),n=await $("GET","plants",{[K]:s});return B(n)}catch{console.error("Failed to get plants list.")}return!1},mt=async(e,s)=>{try{const n=JSON.stringify(e),a=await $("GET",`plant/${s}`,{[K]:n});return B(a)}catch{console.error(`Failed to get plant {${s}}.`)}return!1},ft=async e=>{try{const s=JSON.stringify(e),n=await $("GET","cart",{[K]:s});return B(n)}catch(s){console.error("Failed to get cart item list, error:",s)}return!1},ht=async(e,s)=>{const n="550e8400-e29b-41d4-a716-446655440000";try{const a=JSON.stringify(e),r=await $("POST",`cart/${n}`,{[K]:a},[s]);return B(r)}catch(a){console.error("Failed to get cart item list, error:",a)}return!1},xt=async(e,s)=>{try{const n=JSON.stringify(e),a=await $("DELETE",`cart/${s}`,{[K]:n});return B(a)}catch(n){console.error(`Failed to remove item {${s}} from cart list, error:`,n)}return!1},gt=async(e,s,n)=>{const a=await $("POST","users",null,{username:e,password:s,password_confirm:n});return B(a)},vt=async(e,s)=>{const n=await $("POST","users/session",null,{username:e,password:s}),a=B(n);return p.isString(n.capstone_session_token)&&(a.payload=JSON.parse(n.capstone_session_token)),a},pt=async e=>{const s=await $("DELETE","users/session",null,e);return B(s)},L=o.createContext(!1),oe="Rica's Plants",D=()=>{const[e,s]=o.useState(oe);o.useEffect(()=>{typeof e=="string"&&(document.title=e)},[e]);const n=o.useCallback(a=>{a&&p.isString(a)?a=`${oe} - ${a}`:a=oe,e!==a&&s(a)},[e]);return[e,n]},xe=e=>o.useContext(L).isActive()===!e.not?e.children:null,jt=`
	p-2 rounded-lg bg-emerald-100 select-none cursor-pointer
	hover:bg-emerald-200 active:bg-emerald-300 text-emerald-700
`,yt="text-[2rem] p-2 select-none text-emerald-700",b=e=>{if(e.name===void 0)return t.jsx(t.Fragment,{});const s=e.name,n=e.className,a=p.omit(p.clone(e),["name","className"]);return t.jsx("span",{className:"material-symbols-sharp "+O(jt,n),...a,children:s})},_=e=>{if(e.name===void 0)return t.jsx(t.Fragment,{});const s=e.name,n=e.className,a=p.omit(p.clone(e),["name","className"]);return t.jsx("span",{className:"material-symbols-sharp "+O(yt,n),...a,children:s})},bt=`
	w-8 h-8 animate-spin rounded-full
	border-8 border-emerald-600 border-t-emerald-200
`,z=e=>{const s=e.className,n=p.omit(p.clone(e),["name","className","children"]);return t.jsx("div",{...n,className:O(bt,s),children:e.children})},wt=({item:e,onRemove:s})=>{const n=o.useContext(L),[a,r]=o.useState(),[l,i]=o.useState({error:!1}),{uuid:c,quantity:m,pot_color:h,name:u,price:y,image:x}=e.plant,g=Number(y*m).toFixed(2),j=w=>{a||(r(!0),i({error:!1}),(async()=>{const v=await xt(n==null?void 0:n.data,e.id);v.error===!1?(console.log(`Removed item {${e.id}} from cart.`),s(e)):console.error("Failed to remove item from cart. Response:",v),i(v),r(!1)})())},d=t.jsx(z,{}),f=(l==null?void 0:l.error)!==!1&&t.jsx("div",{className:"mt-4 px-2 py-1 bg-rose-100 border border-rose-300 rounded-lg text-red-600 font-medium text-center",children:l.message});return t.jsxs("div",{className:"mb-10 last:mb-0 pb-10 border-b-2 flex text-neutral-500 font-bold",children:[t.jsx("div",{className:"basis-2/6 pb-6",children:t.jsx("img",{className:"w-48 rounded-lg",alt:u,src:x.src})}),t.jsxs("div",{className:"pl-8 flex-1 flex flex-col",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"font-playfair text-lg sm:text-3xl text-emerald-700 font-normal",children:u}),t.jsxs("span",{className:"ml-2",children:["$",g]})]}),t.jsxs("div",{className:"my-2",children:[t.jsx("span",{className:"w-16 inline-block text-neutral-400 font-normal",children:"qty: "}),m]}),t.jsxs("div",{children:[t.jsx("span",{className:"w-16 inline-block text-neutral-400 font-normal",children:"color: "}),h]}),t.jsx("div",{className:"pt-2 flex-1 flex justify-end items-end",children:f||t.jsx("button",{className:"flex items-center group hover:text-rose-700 active:translate-y-1",onClick:j,children:a?d:t.jsxs(t.Fragment,{children:["remove ",t.jsx(_,{className:"m-0 p-0 text-md text-neutral-400 group-hover:text-rose-700",name:"delete"})]})})})]})]})};var A=function(){return A=Object.assign||function(s){for(var n,a=1,r=arguments.length;a<r;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=n[l])}return s},A.apply(this,arguments)};function De(e,s){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)s.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n}function St(e,s,n){if(n||arguments.length===2)for(var a=0,r=s.length,l;a<r;a++)(l||!(a in s))&&(l||(l=Array.prototype.slice.call(s,0,a)),l[a]=s[a]);return e.concat(l||Array.prototype.slice.call(s))}var te="right-scroll-bar-position",se="width-before-scroll-bar",Nt="with-scroll-bars-hidden",Ct="--removed-body-scroll-bar-size";function ce(e,s){return typeof e=="function"?e(s):e&&(e.current=s),e}function kt(e,s){var n=o.useState(function(){return{value:e,callback:s,facade:{get current(){return n.value},set current(a){var r=n.value;r!==a&&(n.value=a,n.callback(a,r))}}}})[0];return n.callback=s,n.facade}var Et=typeof window<"u"?o.useLayoutEffect:o.useEffect,we=new WeakMap;function Rt(e,s){var n=kt(null,function(a){return e.forEach(function(r){return ce(r,a)})});return Et(function(){var a=we.get(n);if(a){var r=new Set(a),l=new Set(e),i=n.current;r.forEach(function(c){l.has(c)||ce(c,null)}),l.forEach(function(c){r.has(c)||ce(c,i)})}we.set(n,e)},[e]),n}function Tt(e){return e}function Lt(e,s){s===void 0&&(s=Tt);var n=[],a=!1,r={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var i=s(l,a);return n.push(i),function(){n=n.filter(function(c){return c!==i})}},assignSyncMedium:function(l){for(a=!0;n.length;){var i=n;n=[],i.forEach(l)}n={push:function(c){return l(c)},filter:function(){return n}}},assignMedium:function(l){a=!0;var i=[];if(n.length){var c=n;n=[],c.forEach(l),i=n}var m=function(){var u=i;i=[],u.forEach(l)},h=function(){return Promise.resolve().then(m)};h(),n={push:function(u){i.push(u),h()},filter:function(u){return i=i.filter(u),n}}}};return r}function Pt(e){e===void 0&&(e={});var s=Lt(null);return s.options=A({async:!0,ssr:!1},e),s}var He=function(e){var s=e.sideCar,n=De(e,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=s.read();if(!a)throw new Error("Sidecar medium not found");return o.createElement(a,A({},n))};He.isSideCarExport=!0;function It(e,s){return e.useMedium(s),He}var We=Pt(),ie=function(){},re=o.forwardRef(function(e,s){var n=o.useRef(null),a=o.useState({onScrollCapture:ie,onWheelCapture:ie,onTouchMoveCapture:ie}),r=a[0],l=a[1],i=e.forwardProps,c=e.children,m=e.className,h=e.removeScrollBar,u=e.enabled,y=e.shards,x=e.sideCar,g=e.noRelative,j=e.noIsolation,d=e.inert,f=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,N=e.gapMode,S=De(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=x,F=Rt([n,s]),M=A(A({},S),r);return o.createElement(o.Fragment,null,u&&o.createElement(R,{sideCar:We,removeScrollBar:h,shards:y,noRelative:g,noIsolation:j,inert:d,setCallbacks:l,allowPinchZoom:!!f,lockRef:n,gapMode:N}),i?o.cloneElement(o.Children.only(c),A(A({},M),{ref:F})):o.createElement(v,A({},M,{className:m,ref:F}),c))});re.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};re.classNames={fullWidth:se,zeroRight:te};var At=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ot(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var s=At();return s&&e.setAttribute("nonce",s),e}function _t(e,s){e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}function Ft(e){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(e)}var Mt=function(){var e=0,s=null;return{add:function(n){e==0&&(s=Ot())&&(_t(s,n),Ft(s)),e++},remove:function(){e--,!e&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},Bt=function(){var e=Mt();return function(s,n){o.useEffect(function(){return e.add(s),function(){e.remove()}},[s&&n])}},Ye=function(){var e=Bt(),s=function(n){var a=n.styles,r=n.dynamic;return e(a,r),null};return s},$t={left:0,top:0,right:0,gap:0},de=function(e){return parseInt(e||"",10)||0},Dt=function(e){var s=window.getComputedStyle(document.body),n=s[e==="padding"?"paddingLeft":"marginLeft"],a=s[e==="padding"?"paddingTop":"marginTop"],r=s[e==="padding"?"paddingRight":"marginRight"];return[de(n),de(a),de(r)]},Ht=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $t;var s=Dt(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,a-n+s[2]-s[0])}},Wt=Ye(),U="data-scroll-locked",Yt=function(e,s,n,a){var r=e.left,l=e.top,i=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Nt,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(c,"px ").concat(a,`;
  }
  body[`).concat(U,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(te,` {
    right: `).concat(c,"px ").concat(a,`;
  }
  
  .`).concat(se,` {
    margin-right: `).concat(c,"px ").concat(a,`;
  }
  
  .`).concat(te," .").concat(te,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(se," .").concat(se,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(U,`] {
    `).concat(Ct,": ").concat(c,`px;
  }
`)},Se=function(){var e=parseInt(document.body.getAttribute(U)||"0",10);return isFinite(e)?e:0},Gt=function(){o.useEffect(function(){return document.body.setAttribute(U,(Se()+1).toString()),function(){var e=Se()-1;e<=0?document.body.removeAttribute(U):document.body.setAttribute(U,e.toString())}},[])},Vt=function(e){var s=e.noRelative,n=e.noImportant,a=e.gapMode,r=a===void 0?"margin":a;Gt();var l=o.useMemo(function(){return Ht(r)},[r]);return o.createElement(Wt,{styles:Yt(l,!s,r,n?"":"!important")})},ge=!1;if(typeof window<"u")try{var Q=Object.defineProperty({},"passive",{get:function(){return ge=!0,!0}});window.addEventListener("test",Q,Q),window.removeEventListener("test",Q,Q)}catch{ge=!1}var G=ge?{passive:!1}:!1,Ut=function(e){return e.tagName==="TEXTAREA"},Ge=function(e,s){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[s]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ut(e)&&n[s]==="visible")},qt=function(e){return Ge(e,"overflowY")},zt=function(e){return Ge(e,"overflowX")},Ne=function(e,s){var n=s.ownerDocument,a=s;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var r=Ve(e,a);if(r){var l=Ue(e,a),i=l[1],c=l[2];if(i>c)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},Xt=function(e){var s=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[s,n,a]},Jt=function(e){var s=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[s,n,a]},Ve=function(e,s){return e==="v"?qt(s):zt(s)},Ue=function(e,s){return e==="v"?Xt(s):Jt(s)},Kt=function(e,s){return e==="h"&&s==="rtl"?-1:1},Zt=function(e,s,n,a,r){var l=Kt(e,window.getComputedStyle(s).direction),i=l*a,c=n.target,m=s.contains(c),h=!1,u=i>0,y=0,x=0;do{if(!c)break;var g=Ue(e,c),j=g[0],d=g[1],f=g[2],w=d-f-l*j;(j||w)&&Ve(e,c)&&(y+=w,x+=j);var v=c.parentNode;c=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!m&&c!==document.body||m&&(s.contains(c)||s===c));return(u&&Math.abs(y)<1||!u&&Math.abs(x)<1)&&(h=!0),h},ee=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ce=function(e){return[e.deltaX,e.deltaY]},ke=function(e){return e&&"current"in e?e.current:e},Qt=function(e,s){return e[0]===s[0]&&e[1]===s[1]},es=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ts=0,V=[];function ss(e){var s=o.useRef([]),n=o.useRef([0,0]),a=o.useRef(),r=o.useState(ts++)[0],l=o.useState(Ye)[0],i=o.useRef(e);o.useEffect(function(){i.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var d=St([e.lockRef.current],(e.shards||[]).map(ke),!0).filter(Boolean);return d.forEach(function(f){return f.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),d.forEach(function(f){return f.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var c=o.useCallback(function(d,f){if("touches"in d&&d.touches.length===2||d.type==="wheel"&&d.ctrlKey)return!i.current.allowPinchZoom;var w=ee(d),v=n.current,N="deltaX"in d?d.deltaX:v[0]-w[0],S="deltaY"in d?d.deltaY:v[1]-w[1],R,F=d.target,M=Math.abs(N)>Math.abs(S)?"h":"v";if("touches"in d&&M==="h"&&F.type==="range")return!1;var ye=window.getSelection(),le=ye&&ye.anchorNode,Qe=le?le===F||le.contains(F):!1;if(Qe)return!1;var Z=Ne(M,F);if(!Z)return!0;if(Z?R=M:(R=M==="v"?"h":"v",Z=Ne(M,F)),!Z)return!1;if(!a.current&&"changedTouches"in d&&(N||S)&&(a.current=R),!R)return!0;var be=a.current||R;return Zt(be,f,d,be==="h"?N:S)},[]),m=o.useCallback(function(d){var f=d;if(!(!V.length||V[V.length-1]!==l)){var w="deltaY"in f?Ce(f):ee(f),v=s.current.filter(function(R){return R.name===f.type&&(R.target===f.target||f.target===R.shadowParent)&&Qt(R.delta,w)})[0];if(v&&v.should){f.cancelable&&f.preventDefault();return}if(!v){var N=(i.current.shards||[]).map(ke).filter(Boolean).filter(function(R){return R.contains(f.target)}),S=N.length>0?c(f,N[0]):!i.current.noIsolation;S&&f.cancelable&&f.preventDefault()}}},[]),h=o.useCallback(function(d,f,w,v){var N={name:d,delta:f,target:w,should:v,shadowParent:ns(w)};s.current.push(N),setTimeout(function(){s.current=s.current.filter(function(S){return S!==N})},1)},[]),u=o.useCallback(function(d){n.current=ee(d),a.current=void 0},[]),y=o.useCallback(function(d){h(d.type,Ce(d),d.target,c(d,e.lockRef.current))},[]),x=o.useCallback(function(d){h(d.type,ee(d),d.target,c(d,e.lockRef.current))},[]);o.useEffect(function(){return V.push(l),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:x}),document.addEventListener("wheel",m,G),document.addEventListener("touchmove",m,G),document.addEventListener("touchstart",u,G),function(){V=V.filter(function(d){return d!==l}),document.removeEventListener("wheel",m,G),document.removeEventListener("touchmove",m,G),document.removeEventListener("touchstart",u,G)}},[]);var g=e.removeScrollBar,j=e.inert;return o.createElement(o.Fragment,null,j?o.createElement(l,{styles:es(r)}):null,g?o.createElement(Vt,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ns(e){for(var s=null;e!==null;)e instanceof ShadowRoot&&(s=e.host,e=e.host),e=e.parentNode;return s}const as=It(We,ss);var je=o.forwardRef(function(e,s){return o.createElement(re,A({},e,{ref:s,sideCar:as}))});je.classNames=re.classNames;const ne=o.createContext(0),rs="",k=e=>{const s=o.useContext(ne),n=p.omit(p.clone(e),["className"]);return t.jsx(ne.Provider,{value:s+1,children:t.jsx("div",{className:O(rs,e.className),...n,children:e.children})})},Ee=["","ml-2","ml-6","ml-10","ml-14","ml-20"],qe=()=>{const e=o.useContext(ne);return e<7?Ee[e-1]:Ee[5]},ls="my-2",C=e=>{const s=qe();return t.jsx("p",{className:O(ls,s,e.className),children:e.children})},os=["text-6xl","text-5xl","text-4xl","text-3xl","text-2xl","text-xl"],cs="text-xl font-playfair",is=e=>{switch(e.level){case 0:case 1:return t.jsx("h1",{...e,children:e.children});case 2:return t.jsx("h2",{...e,children:e.children});case 3:return t.jsx("h3",{...e,children:e.children});case 4:return t.jsx("h4",{...e,children:e.children});case 5:return t.jsx("h5",{...e,children:e.children});case 6:default:return t.jsx("h6",{...e,children:e.children})}return t.jsx("div",{...e,children:e.children})},E=e=>{const s=o.useContext(ne),n=qe();return t.jsx(is,{level:s,className:O(cs,n,os[s-1],e.className),children:e.children})},Re="cart-modal",ds=`fixed top-0 right-0 w-full h-full bg-black/30 backdrop-blur-sm
	flex-col items-end overflow-auto
`,us=()=>{window.dispatchEvent(new Event("showCartModal"))},Te=()=>{window.dispatchEvent(new Event("hideCartModal"))},ms=()=>{var c;const e=o.useContext(L),[s,n]=o.useState(!1),a=()=>{n(!0)},r=()=>{n(!1)};o.useEffect(()=>(window.addEventListener("showCartModal",a),window.addEventListener("hideCartModal",r),()=>{window.removeEventListener("showCartModal",a),window.removeEventListener("hideCartModal",r)}),[s]);const l=t.jsx(b,{name:"close",className:"rounded-full"}),i=m=>{m.target.id===Re&&Te()};return t.jsx(xe,{children:t.jsx(je,{enabled:s,children:t.jsxs(k,{id:Re,className:q(!s&&"hidden"||"flex",ds),onClick:i,children:[t.jsxs("div",{className:"w-full max-w-lg p-8 flex justify-between bg-emerald-800 animate-slideRight",children:[t.jsxs(E,{className:"flex-1 text-center text-2xl text-white",children:[(c=e.data)==null?void 0:c.username,"'s Cart"]}),t.jsx("button",{onClick:Te,children:l})]}),s&&t.jsx(ze,{className:"animate-slideRight"})]})})})},X=1,fs="underline text-neutral-400 hover:text-neutral-600 active:translate-y-0.5",hs=`p-2 self-stretch rounded-full
	flex justify-center items-center
	bg-emerald-700 hover:bg-emerald-800 active:bg-emerald-600 font-medium text-white text-lg`,xs=({list:e})=>{if(!p.isArray(e)||p.isEmpty(e))return t.jsx(t.Fragment,{});const s=e.length,n=e.reduce((a,r)=>a+r.plant.price,0);return t.jsxs("div",{className:"p-6 pt-2 text-neutral-400 flex flex-col items-end",children:[t.jsxs("div",{className:"my-4 self-stretch flex justify-between items-center",children:[t.jsxs("div",{children:[s," items"]}),t.jsxs("div",{className:"flex items-center",children:["subtotal:",t.jsxs("span",{className:"ml-2 text-neutral-500 text-lg font-bold",children:["$",n.toFixed(2)]})]})]}),t.jsxs("button",{className:hs,children:["Checkout ",t.jsx(_,{className:"text-white text-2xl",name:"shopping_cart_checkout"})]})]})},ze=e=>{const{className:s,onRemove:n}=e,a=o.useContext(L),[r,l]=o.useState(null),[i,c]=o.useState({error:!1}),m=async()=>{if(!a.isActive()||r===X)return;c({error:!1}),l(X);const x=await ft(a==null?void 0:a.data);x.error===!1?l(x.data):(console.error("Failed to get cart item list. Response:",x),l(null)),c(x)};o.useEffect(()=>{m()},[a.data]);const h=x=>{const g=r.findIndex(j=>j.id===x.id);r[g]!==void 0&&(r.splice(g,1),l([...r]))},u=t.jsx("div",{className:"flex-1 flex justify-center items-center",children:t.jsx(z,{})});q("rounded-full",r===X&&"animate-spinOnce");const y=(i==null?void 0:i.error)!==!1&&t.jsx("div",{className:"px-2 py-1 flex justify-center items-center bg-rose-100 border border-rose-300 rounded-lg text-red-600 font-medium",children:i.message});return t.jsxs("div",{className:O("w-full max-w-lg p-4 flex-1 flex flex-col bg-emerald-50",s),children:[y,r===X&&u,r!==X&&p.isEmpty(r)&&t.jsxs(t.Fragment,{children:[t.jsx("div",{children:"Your cart is empty."}),t.jsxs("div",{children:["Visit the ",t.jsx(T,{className:fs,to:"/plants",children:"Plant List"})," page for a great selection of plants ready to be Yours!"]})]}),t.jsx("div",{className:"p-6 pb-0 flex flex-col",children:p.isArray(r)&&r.map((x,g)=>t.jsx(wt,{item:x,onRemove:h},g))}),t.jsx(xs,{list:r})]})},gs="py-2 px-1 font-lato font-medium hover:text-emerald-200 active:translate-y-0.5",ae=`
	bg-transparent text-white
	hover:bg-emerald-700 group-hover:bg-emerald-700 active:bg-emerald-600 group-active:bg-emerald-600
`,vs=`${ae} rounded-full animate-spin`,H=`${gs} relative group flex justify-end items-center`,ps="hidden md:inline px-1 group-hover:underline",J=`${ae}`,js="text-white px-1 group-hover:underline",Xe=({isHam:e=!1})=>{var m;const s=ve(),n=o.useContext(L),[a,r]=o.useState(!1),l=e?js:ps,i=async h=>{h.stopPropagation(),!a&&(r(!0),await n.signOut()&&s("/"),r(!1))},c=h=>{h.preventDefault(),us()};return t.jsxs(t.Fragment,{children:[t.jsxs(xe,{children:[t.jsxs(T,{className:H,onClick:i,title:"Sign Out",children:[t.jsx("span",{className:l,children:"Sign Out"}),a&&t.jsx(b,{name:"progress_activity",className:vs})||t.jsx(b,{name:"logout",className:ae})]}),t.jsxs(T,{className:H,title:"Account",children:[t.jsx("span",{className:l,children:(m=n.data)==null?void 0:m.username}),t.jsx(b,{name:"account_circle",className:J})]}),t.jsxs(T,{className:H,to:"/cart",title:"Cart",onClick:c,children:[t.jsx("span",{className:l,children:"Cart"}),t.jsx(b,{className:J,name:"shopping_cart"})]}),t.jsxs(T,{className:H,to:"/",title:"Home",children:[t.jsx("span",{className:l,children:"Home"}),t.jsx(b,{name:"home",className:J})]}),t.jsxs(T,{className:H,to:"/plants",title:"Plant List",children:[t.jsx("span",{className:l,children:"Plant List"}),t.jsx(b,{name:"potted_plant",className:J})]}),t.jsxs(T,{className:H,to:"/about",title:"About",children:[t.jsx("span",{className:l,children:"About"}),t.jsx(b,{name:"info",className:J})]})]}),t.jsx(xe,{not:!0,children:t.jsxs(T,{className:H,to:"/sign-in",title:"Sign In",children:[t.jsx("span",{className:l,children:"Sign In"}),t.jsx(b,{name:"login",className:ae})]})})]})},ys="block sm:hidden text-5xl bg-emerald-800 text-emerald-200 hover:text-emerald-300 hover:bg-emerald-600",bs="self-end mr-1 bg-emerald-200 text-emerald-800 hover:text-emerald-300 hover:bg-emerald-600",ws="fixed top-0 right-0 w-full h-full bg-black/30 backdrop-blur-sm flex justify-end items-start",Ss=()=>{const e=o.useRef(),[s,n]=o.useState(!1),a=r=>{n(!1)};return o.useEffect(()=>{const r=l=>{e.current&&!e.current.contains(l.target)&&a()};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]),t.jsxs(t.Fragment,{children:[t.jsx(b,{name:"menu",className:ys,onClick:r=>n(!0)}),t.jsx(je,{enabled:s,children:t.jsx("div",{className:q(!s&&"hidden",ws),children:t.jsxs("nav",{ref:e,className:"p-4 flex flex-col justify-center block bg-emerald-800/95 rounded-bl-lg animate-slideDown",children:[t.jsx(b,{name:"close",className:bs,onClick:r=>n(!1)}),t.jsx("div",{className:"flex flex-col justify-start items-end max-h-[500px] overflow-y-auto",onClick:a,children:t.jsx(Xe,{isHam:!0})})]})})})]})},ue=`
	my-1 py-2 px-3 bg-sky-200 rounded-lg
	text-center font-lato font-medium text-sky-800 hover:text-sky-300 hover:bg-sky-600
`,Le="self-end bg-sky-200 text-sky-800 hover:text-sky-300 hover:bg-sky-600",Ns=()=>{const e=o.useRef(),[s,n]=o.useState(!1);o.useEffect(()=>{const r=l=>{e.current&&!e.current.contains(l.target)&&n(!1)};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]);const a=s?t.jsx(b,{name:"close",className:Le,onClick:r=>n(!1)}):t.jsx(b,{name:"menu",className:Le,onClick:r=>n(!0)});return t.jsxs("div",{ref:e,className:q("fixed bottom-2 right-2 w-40 p-2 flex flex-col-reverse justify-center",s&&"bg-sky-100 rounded-lg shadow-lg"),children:[a,t.jsxs("div",{className:"flex flex-col justify-center "+(s?null:"hidden"),onClick:()=>n(!1),children:[t.jsx(et,{className:ue,appid:"default",children:"Main App"}),t.jsx(T,{className:ue,to:"/style-guide",children:"Style Guide"}),t.jsx(T,{className:ue,to:"/",children:"Rica's Plants"})]})]})},W=()=>t.jsxs(t.Fragment,{children:[t.jsx("nav",{className:"navbar flex justify-center bg-emerald-800",children:t.jsxs("div",{className:"w-full max-w-5xl flex p-8 justify-end items-center text-white",children:[t.jsx("div",{className:"min-w-64 flex-1 flex",children:t.jsxs(T,{to:"/",className:"p-2 flex justify-start items-center",children:[t.jsx("img",{className:"w-10",title:"brand logo",src:"https://static-task-assets.react-formula.com/capstone_logo_light.png"}),t.jsx("span",{className:"ml-4 font-playfair text-2xl",children:"Rica's Plants"})]})}),t.jsx("div",{className:"hidden sm:flex flex-row-reverse flex-wrap justify-start",children:t.jsx(Xe,{})}),t.jsx(Ss,{})]})}),t.jsx(ms,{}),t.jsx(Ns,{})]}),Cs=()=>t.jsxs("div",{className:"h-screen bg-rose-50 flex flex-col",children:[t.jsx(W,{}),t.jsxs("div",{className:"pt-36 flex flex-col justify-center items-center",children:[t.jsxs("h1",{className:"my-3 px-3 text-4xl text-center",children:["Error 404: ",t.jsx("br",{className:"sm:hidden"})," Page Not Found"]}),t.jsx("p",{className:"py-3 px-8 max-w-xl",children:"The page you requested was not found. Please, contact the webadmin if this is a real issue. You might also be a snowflake if you contact the webadmin."})]})]}),ks=!1,Y=e=>{const s=o.useContext(L),n=ve(),a=e.path!==void 0?e.path:"/",r=e.delay!==void 0?e.delay:ks;return o.useEffect(()=>{if(s.isActive()===!e.not)if(r!==!1){const l=setTimeout(()=>n(a),r);return()=>clearTimeout(l)}else n(a)},[s.data]),e.children},Es=()=>{const[e,s]=D();return s(),t.jsxs(Y,{not:!0,path:"/sign-in",children:[t.jsx(W,{}),t.jsxs(k,{className:"p-8 mx-auto w-full max-w-5xl",children:[t.jsx(E,{className:"p-2 text-center",children:"Welcome to Rica's Plants"}),t.jsx(C,{children:"Your one-stop destination for all things green and growing! Our passion for plants shines through in our diverse selection of lush houseplants, exotic succulents, and vibrant garden favorites. We believe that plants bring more than just beauty to a space; they breathe life into your home, purify your air, and uplift your spirit. Whether you’re a seasoned green thumb or a first-time plant parent, we’re here to help you cultivate the perfect indoor oasis."}),t.jsx(C,{children:"At Rica's Plants, we understand that every plant has its own personality and needs. That's why we offer detailed care guides, personalized recommendations, and friendly support to ensure your plants thrive. From bright, sun-loving cacti to delicate, shade-loving ferns, we have options to suit every environment and lifestyle. Our commitment to quality means that each plant is carefully selected and nurtured until it's ready to become part of your space."}),t.jsx(C,{children:"Discover the joy of nurturing your own slice of nature with our specially curated collections. Our selection changes with the seasons, allowing you to find the freshest additions to your plant family throughout the year. Explore our rare finds section for unique specimens that will make your collection truly stand out. Join our community of plant lovers and embark on a journey of growth, inspiration, and endless greenery."})]})]})},Rs=()=>{const[e,s]=D();return s("About"),t.jsxs(Y,{not:!0,path:"/sign-in",children:[t.jsx(W,{}),t.jsxs(k,{className:"p-8 mx-auto w-full max-w-5xl",children:[t.jsx(E,{className:"p-2 text-center",children:"About"}),t.jsx(C,{children:"Welcome to Rica's Plants, your trusted destination for beautiful, healthy houseplants. We believe in the power of greenery to transform spaces and uplift spirits. Whether you’re a seasoned plant enthusiast or just starting your journey, our curated selection of plants is designed to bring life and vibrancy to your home or office."}),t.jsx(C,{children:"At Rica's Plants, we source our plants from sustainable growers who share our passion for quality and care. Each plant is handpicked to ensure it thrives in its new home. From low-maintenance favorites like pothos and snake plants to striking statement pieces like fiddle-leaf figs, we offer a variety of options to suit every lifestyle and aesthetic."}),t.jsx(C,{children:"More than just a plant shop, we’re here to inspire and guide. Our resources include care tips, styling ideas, and personalized advice to help you build your indoor jungle with confidence. Let’s grow together and make every corner of your space a little greener!"})]})]})},I=`
	The quick brown fox jumps over the lazy dog, darting swiftly across the field with grace.
	As it leaps, its sleek fur glistens under the afternoon sun, casting fleeting shadows on the
	ground. The dog, unmoved by the fox's antics, lies lazily on the grass, its eyes half-closed
	in contentment. Around them, the sounds of nature fill the air: the chirping of birds,
	the rustling of leaves, and the distant hum of a breeze that stirs the tall grass. Time seems
	to slow in this peaceful moment, where the simple beauty of the scene speaks louder than words.
`,Ts=()=>{const[e,s]=D();return s("Style Guide"),t.jsxs(t.Fragment,{children:[t.jsx(W,{}),t.jsxs("div",{className:"p-6 m-auto max-w-5xl ",children:[t.jsx("h1",{className:"my-4 text-5xl",children:"Heading"}),t.jsx("div",{className:"my-4 text-xl font-playfair",children:"Font Playfair Display test. This here is some random text to test the given font."}),t.jsx("div",{className:"my-4 text-xl font-lato",children:"Font Lato test. This here is some random text to test the given font."}),t.jsxs("div",{children:[t.jsx("h2",{className:"my-4 text-4xl",children:"Icons"}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsx(b,{name:"menu"}),t.jsx(b,{name:"home",className:"text-4xl"}),t.jsx(b,{name:"account_circle"}),t.jsx(b,{name:"login"}),t.jsx(b,{name:"progress_activity",className:"rounded-full bg-transparent text-amber-700 hover:bg-amber-200 active:bg-amber-300 animate-spin"}),t.jsx(b,{name:"logout"}),t.jsx(b,{name:"close",className:"bg-violet-100 text-violet-700 hover:bg-violet-200 active:bg-violet-300"})]})]})]}),t.jsxs(k,{className:"my-20",children:[t.jsx(E,{children:"Sub heading"}),t.jsx(C,{children:I}),t.jsxs(k,{children:[t.jsx(E,{children:"Sub heading"}),t.jsx(C,{children:I}),t.jsxs(k,{children:[t.jsx(E,{children:"Sub heading"}),t.jsx(C,{children:I}),t.jsxs(k,{children:[t.jsx(E,{children:"Sub heading"}),t.jsx(C,{children:I}),t.jsxs(k,{children:[t.jsx(E,{children:"Sub heading"}),t.jsx(C,{children:I}),t.jsxs(k,{children:[t.jsx(E,{children:"Sub heading"}),t.jsx(C,{children:I}),t.jsxs(k,{children:[t.jsx(E,{children:"Sub heading"}),t.jsx(C,{children:I}),t.jsxs(k,{children:[t.jsx(E,{children:"Sub heading"}),t.jsx(C,{children:I})]})]})]})]})]})]})]})]}),t.jsxs(k,{className:"my-20",children:[t.jsx(E,{children:"Sub heading"}),t.jsx(C,{children:I}),t.jsxs(k,{children:[t.jsx(E,{children:"Sub heading"}),t.jsx(C,{children:I})]})]})]})},me={text:"p-1 px-2 rounded-lg border border-slate-300 text-slate-600 bg-slate-50 focus:outline-emerald-600",button:"py-2 cursor-pointer rounded-lg text-white bg-green-800 hover:bg-green-700 active:bg-green-600",submit:"py-2 cursor-pointer rounded-lg text-white bg-green-800 hover:bg-green-700 active:bg-green-600"},fe={text:"ml-3 mb-2 -mt-2 text-slate-400",button:"hidden"},Ls=({name:e,value:s,type:n="text",label:a,placeholder:r="",onChange:l,isButton:i=!1,onClick:c})=>{const m=o.useId(),h=me[n]!==void 0?me[n]:me.text,u=fe[n]!==void 0?fe[n]:fe.text;return t.jsxs("div",{className:"my-3 flex flex-col",children:[a&&t.jsx("label",{className:u,htmlFor:m,children:a}),i?t.jsx("button",{className:h,type:n,name:e,id:m,onClick:c,children:s}):t.jsx("input",{className:h,type:n,name:e,id:m,placeholder:r,value:s,onChange:l})]})},Ps=`
	m-4 pt-2 pb-4 px-8 bg-white border rounded-lg border-slate-300 font-lato font-medium
	min-w-80 flex flex-col 
`,Is=e=>{for(const s of e)if(s.name===void 0)throw"Form fields MUST have names."},As=e=>{const s={};for(const n of e)s[n.name]=n.value!==void 0?n.value:"";return s},Os=(e,s,n)=>({...e,[s]:n}),Je=e=>{Is(e.fields);const s=o.useId(),[n,a]=o.useState(()=>As(e.fields)),r=i=>{i.preventDefault(),e.onSubmit(n,s,i)},l=p.assign(p.omit(e,["fields"]),{className:Ps,name:`form-${s}`,method:"POST",action:"",onSubmit:r});return t.jsxs("form",{...l,children:[e.fields.map((i,c)=>t.jsx(Ls,{onChange:m=>a(Os(n,i.name,m.target.value)),...i,value:i.isButton?i.value:n[i.name]},c)),l.children]})},Ke=e=>{const s=e.children,n=e.status?e.status:{error:!1,message:null};return n.error!==!1&&!n.message&&(n.message="Something went wrong - try again later"),t.jsxs("div",{className:"flex",children:[t.jsxs("div",{className:"relative hidden md:block",children:[t.jsx("img",{className:"h-screen object-cover",title:"plants on a rack",src:"https://static-task-assets.react-formula.com/capstone_sign_in_scene.png"}),t.jsx("div",{className:"absolute inset-0 w-full h-full bg-black/10"}),t.jsx("div",{className:"absolute inset-0 w-full h-full bg-emerald-800/40"})]}),t.jsxs("div",{className:"h-screen flex-1 bg-emerald-50 flex flex-col items-center justify-center",children:[t.jsxs("div",{className:"flex flex-col items-center mx-2 my-8",children:[t.jsx("img",{className:"w-16 mb-2 ",title:"brand logo",src:"https://static-task-assets.react-formula.com/capstone_logo_dark.png"}),t.jsx("div",{className:"font-playfair text-emerald-700 text-2xl",children:"Rica's Plants"})]}),n.message?t.jsx("div",{className:q("animate-slideDown py-1 px-2 rounded-lg border",n.error?"bg-red-100 border-red-600 text-red-600 font-medium":"text-emerald-800 bg-emerald-100 border-emerald-600"),children:n.message}):null,s]})]})},_s=1500,Pe=()=>({error:!1,message:null}),Fs=()=>{const e=o.useContext(L),s=Me(),[n,a]=o.useState(!1),[r,l]=o.useState(!1),[i,c]=o.useState(()=>p.has(s,"state.status.message")?s.state.status:Pe()),[m,h]=D();h("Sign In");const u=async(g,j,d)=>{if(r||e.isActive())return;console.log(`Sing up form {${j}} submitted.`),console.log("Values:",g),l(!0),c(Pe());const f=await vt(g.username,g.password);f.error===!1&&p.isObject(f.payload)&&(console.log("Login successful. Login details:",f.payload),e.signIn(f.payload),a(_s)),c({error:f.error,message:f.message}),l(!1)},y=t.jsx("span",{className:"flex justify-center",children:t.jsxs("span",{className:"relative",children:["Sign In ",r?t.jsx(z,{className:"absolute top-0 -right-8 ml-2 w-6 h-6 border-4 border-transparent border-t-white"}):null]})}),x=[{name:"username",label:"username",value:p.has(s,"state.username")?s.state.username:void 0,type:"text"},{name:"password",label:"password",type:"password"},{name:"submit_button",value:y,type:"submit",isButton:!0}];return t.jsx(Y,{path:"/plants",delay:n,children:t.jsxs(Ke,{status:i,children:[t.jsx(Je,{onSubmit:u,fields:x}),t.jsx(T,{to:"/sign-up",className:"text-sm text-green-700 underline hover:text-green-500",children:"Create an Account"})]})})},Ie=()=>({error:!1,message:null}),Ms=()=>{const e=o.useContext(L),s=ve(),[n,a]=o.useState(!1),[r,l]=o.useState(()=>Ie()),[i,c]=D();c("Sign Up");const m=async(y,x,g)=>{if(n||e.isActive())return;console.log(`Sing up form {${x}} submitted.`),console.log("Values:",y),a(!0),l(Ie());const j=await gt(y.username,y.password,y.password_confirm);if(j.error===!1){const d=p.clone(j);d.message="You can login with Your username & password",j.message=t.jsxs(t.Fragment,{children:[j.message,t.jsx("br",{}),"Redirecting You to Sing In page..."]}),setTimeout(()=>s("/sign-in",{state:{status:d,username:y.username}}),1500)}l(j),a(!1)},u=[{label:"username",name:"username",type:"text"},{label:"password",name:"password",type:"password"},{label:"confirm password",name:"password_confirm",type:"password"},{name:"submit_button",value:t.jsx("span",{className:"flex justify-center",children:t.jsxs("span",{className:"relative",children:["Create an Account ",n?t.jsx(z,{className:"absolute top-0 -right-8 ml-2 w-6 h-6 border-4 border-transparent border-t-white"}):null]})}),type:"submit",isButton:!0}];return t.jsx(Y,{path:"/plants",children:t.jsxs(Ke,{status:r,children:[t.jsx(Je,{onSubmit:m,fields:u}),t.jsx(T,{to:"/sign-in",className:"text-sm text-green-700 underline hover:text-green-500",children:"Log into Account"})]})})},Bs=()=>{var s;const e=o.useContext(L);return t.jsxs(Y,{not:!0,path:"/sign-in",children:[t.jsx(W,{}),t.jsx(k,{className:"py-24 flex justify-center",children:t.jsxs("div",{className:"w-full max-w-5xl",children:[t.jsxs(E,{className:"px-8 text-4xl",children:[(s=e.data)==null?void 0:s.username,"'s Cart"]}),t.jsx(ze,{})]})})]})},Ze={stone:"bg-stone-200",slate:"bg-slate-300",sky:"bg-sky-700",black:"bg-gray-600",white:"bg-gray-50",amber:"bg-amber-600"},$s=e=>{const{images:s,selected:n,className:a,onClick:r,onMouseEnter:l,onMouseLeave:i,buttonStyle:c,labelStyle:m}=e;return t.jsx("div",{className:a,children:s.map((h,u)=>t.jsx("div",{className:"mx-1 flex flex-col items-center "+(n===u&&"group selected"),children:t.jsx("button",{className:O("w-5 h-5 rounded-full block",n===u&&"outline outline-1 outline-offset-2 outline-slate-400",Ze[s[u].pot_color],c),onClick:()=>r(u),onMouseEnter:()=>l(u),onMouseLeave:()=>i(u)})},u))})},Ds={stone:"text-stone-400",slate:"text-slate-500",sky:"text-sky-700",black:"text-gray-600",white:"text-gray-400",amber:"text-amber-600"},Hs=e=>{const[s,n]=o.useState(()=>p.random(0,e.data.images.length-1)),[a,r]=o.useState(s),{data:l}=e,i=Number(l.price).toFixed(2),c=l.images[a].pot_color;return t.jsxs("div",{className:"plantItem mx-5 my-8 invisible",children:[t.jsx(T,{to:`/plant/${l.uuid}`,state:{plantImageIdx:s},children:t.jsx("img",{className:"w-[280px] h-[320px] object-cover rounded-md",alt:l.description,src:l.images[a].src})}),t.jsxs("div",{className:"my-3 flex justify-between",children:[t.jsx("div",{className:"text-xl text-emerald-700",children:l.name}),t.jsxs("div",{className:"text-lg text-emerald-600",children:["$",i]})]}),t.jsxs("div",{className:"my-3 flex justify-between",children:[t.jsx("div",{className:Ds[c]+" font-medium",children:c}),t.jsx($s,{className:"flex justify-end",images:l.images,selected:s,onClick:m=>{n(m),r(m)},onMouseEnter:m=>r(m),onMouseLeave:()=>r(s)})]})]})},he=1,Ws=()=>{const e=o.useContext(L),[s,n]=o.useState(null),[a,r]=o.useState({error:!1}),l=o.useRef(null),[i,c]=D();c("Plant List");const m=async()=>{if(s===he)return;r({error:!1}),n(he);const x=await ut(e==null?void 0:e.data);x.error===!1?n(x.data):(console.error("Failed to get plants list. Response:",x),n(null)),r(x)};o.useEffect(()=>{var w;let x=!1;const g=[],j=()=>{if(x)return;const v=g.shift();v&&(x=setTimeout(()=>{v.classList.contains("invisible")&&(v.classList.remove("invisible"),v.classList.add("animate-slideLeft")),x=!1,j()},250))},d=new IntersectionObserver(v=>v.forEach((N,S)=>{N.isIntersecting&&N.target.classList.contains("plantItem")&&N.target.classList.contains("invisible")&&(g.push(N.target),j())}),{threshold:.1}),f=(w=l.current)==null?void 0:w.children;if(f){const v=window.visualViewport,N=S=>S.bottom>v.offsetTop&&S.top<v.offsetTop+v.height&&S.right>v.offsetLeft&&S.left<v.offsetLeft+v.width;Array.from(f).forEach(S=>{N(S.getBoundingClientRect())?S.classList.remove("invisible"):d.observe(S)})}return()=>d.disconnect()},[s]),o.useEffect(()=>{m()},[e.data]);const h=t.jsx(b,{name:"refresh",className:q("rounded-full",s===he&&"animate-spinOnce")}),u=t.jsx(z,{className:"mt-28"}),y=(a==null?void 0:a.error)!==!1&&t.jsx("div",{className:"m-4 p-4 bg-rose-100 border border-rose-300 rounded-lg text-red-600 font-medium text-center",children:a.message});return t.jsxs(Y,{not:!0,path:"/sign-in",children:[t.jsx(W,{}),t.jsx(k,{className:"py-24 flex justify-center",children:t.jsxs("div",{className:"w-full max-w-5xl",children:[t.jsxs(E,{className:"px-8 text-4xl",children:["Plants In Stock ",t.jsx("button",{onClick:()=>m(),children:h})]}),t.jsx("div",{ref:l,className:"flex flex-wrap justify-center",children:p.isArray(s)&&s.map((x,g)=>t.jsx(Hs,{data:x},x.id))||(a==null?void 0:a.error)===!1&&u}),y]})})]})},Ae=e=>{const{plant:s,className:n}=e;return t.jsxs("div",{className:n,children:[t.jsxs(E,{className:"text-4xl flex justify-between",children:[t.jsx("span",{children:s.name}),t.jsxs("span",{className:"font-lato",children:["$",s.price]})]}),t.jsx("span",{className:"my-2 inline-block italic text-gray-400 text-lg",children:s.botanical_name})]})},Oe=e=>{const{images:s,selected:n,className:a,onClick:r,onMouseEnter:l,onMouseLeave:i}=e,c=`m-2 w-8 h-8 outline-2 md:w-12 md:h-12 md:outline-offset-4
		hover:outline hover:outline-1 group-[.selected]:hover:outline-2 hover:outline-slate-400`,m="text-lg md:text-xl text-slate-400 group-[.selected]:font-bold group-[.selected]:text-slate-600";return t.jsxs("div",{className:a,children:[t.jsxs("div",{className:"flex items-center text-2xl font-bold",children:[t.jsx(_,{className:"text-4xl",name:"format_paint"})," Pot Color"]}),t.jsx("div",{className:"flex flex-wrap justify-start",children:s.map((h,u)=>t.jsxs("div",{className:"mx-1 flex flex-col items-center "+(n===u&&"group selected"),children:[t.jsx("button",{className:O("w-5 h-5 rounded-full block",n===u&&"outline outline-1 outline-offset-2 outline-slate-400",Ze[s[u].pot_color],c),onClick:()=>r(u),onMouseEnter:()=>l(u),onMouseLeave:()=>i(u)}),t.jsx("span",{className:m,children:s[u].pot_color})]},u))})]})},Ys=e=>t.jsxs("div",{className:"flex",children:[t.jsxs("div",{className:"my-4 px-4 flex flex-col items-center border-r border-gray-300",children:[t.jsx(_,{name:"check_circle",className:"text-5xl"}),t.jsx("span",{className:"my-1 font-bold text-gray-700 text-center",children:"Guaranteed Healthy"}),t.jsx("span",{className:"text-gray-400 text-center",children:"Guaranteed to arrive healthy or your money back"})]}),t.jsxs("div",{className:"my-4 px-4 flex flex-col items-center",children:[t.jsx(_,{name:"delivery_truck_speed",className:"text-5xl"}),t.jsx("span",{className:"my-1 font-bold text-gray-700 text-center",children:"Free Shipping"}),t.jsx("span",{className:"text-gray-400 text-center",children:"Get free ground shipping on orders of $50 or more"})]})]}),_e=({quantity:e,inProgress:s=!1,className:n,onAddToCart:a,onIncrease:r,onDecrease:l})=>{const i="text-2xl rounded-full border-2 border-neutral-400 flex items-center",c="px-2 py-1 text-4xl font-bold text-neutral-500",m=`ml-2 p-2 w-full max-w-80 rounded-full
		flex justify-center items-center
		bg-emerald-700 hover:bg-emerald-800 active:bg-emerald-600 font-medium text-white text-lg`,h=t.jsx(_,{className:"text-white",name:"add_shopping_cart"}),u=t.jsx(_,{className:"text-white animate-spin",name:"progress_activity"});return t.jsxs("div",{className:O("my-4 flex items-center",n),children:[t.jsxs("div",{className:i,children:[t.jsx("button",{className:c,onClick:l,children:t.jsx(_,{className:"text-neutral-600",name:"remove"})}),t.jsx("span",{children:e}),t.jsx("button",{className:c,onClick:r,children:t.jsx(_,{className:"text-neutral-600",name:"add"})})]}),t.jsxs("button",{className:m,onClick:a,children:[s?u:h," Add to Cart"]})]})},Gs=e=>{const s=o.useContext(L),n=Me(),[a,r]=o.useState(()=>p.has(n,"state.plantImageIdx")?n.state.plantImageIdx:0),[l,i]=o.useState(a),[c,m]=o.useState(1),[h,u]=o.useState(!1),[y,x]=o.useState({error:!1}),{plant:g}=e,j=d=>{h||(u(!0),x({error:!1}),(async()=>{const f={plant:{uuid:g.uuid,quantity:c,pot_color:g.images[a].pot_color}},w=await ht(s==null?void 0:s.data,f);w.error===!1?console.log(`Added {${f.plant.quantity}} {${f.plant.pot_color}} plants to cart.`):console.error("Failed to get plants list. Response:",w),x(w),u(!1)})())};return t.jsxs("div",{className:"w-full max-w-5xl flex flex-col md:flex-row",children:[t.jsx(Ae,{className:"md:hidden",plant:g}),t.jsx(Oe,{className:"my-4 md:hidden",images:g.images,selected:a,onClick:d=>{r(d),i(d)},onMouseEnter:d=>i(d),onMouseLeave:()=>i(a)}),t.jsx(_e,{className:"md:hidden",quantity:c,inProgress:h,onAddToCart:j,onIncrease:d=>m(c+1),onDecrease:d=>m(c>1?c-1:1)}),t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsx(tt,{children:t.jsx("img",{className:"rounded-lg",title:g.botanical_name,src:g.images[l].src})}),t.jsx(Ys,{})]}),t.jsxs("div",{className:"md:ml-8 flex-1 flex flex-col",children:[t.jsx(Ae,{className:"hidden md:block",plant:g}),t.jsx(C,{className:"py-2 px-0 text-gray-600",children:g.description}),t.jsx(Oe,{className:"my-4 hidden md:block",images:g.images,selected:a,onClick:d=>{r(d),i(d)},onMouseEnter:d=>i(d),onMouseLeave:()=>i(a)}),t.jsx(_e,{className:"hidden md:flex",quantity:c,inProgress:h,onAddToCart:j,onIncrease:d=>m(c+1),onDecrease:d=>m(c>1?c-1:1)})]})]})},Fe=1,Vs=()=>{const e=o.useContext(L),{uuid:s}=st(),[n,a]=o.useState(null),[r,l]=o.useState({error:!1}),[i,c]=D(),m=async()=>{if(n===Fe)return;l({error:!1}),a(Fe);const u=await mt(e==null?void 0:e.data,s);u.error===!1?(c(u.data.name),a(u.data)):(console.error("Failed to get plants list. Response:",u),a(null)),l(u)};o.useEffect(()=>{m()},[e.data,s]);const h=t.jsx("div",{className:"flex justify-center",children:t.jsx(z,{className:"mt-28"})});return t.jsxs(Y,{not:!0,path:"/sign-in",children:[t.jsx(W,{}),t.jsxs(k,{className:"py-24 px-8 flex justify-center",children:[(r==null?void 0:r.error)!==!1&&t.jsxs("div",{className:"px-2 py-1 m-auto text-center max-w-80 bg-rose-100 border border-rose-300 rounded-lg text-red-600 font-medium",children:[r.message,t.jsx("br",{}),t.jsx("button",{onClick:()=>m(),className:"px-2 py-1 border border-gray-600 rounded-md",children:"Retry?"})]}),p.isObject(n)&&t.jsx(Gs,{plant:n})||(r==null?void 0:r.error)===!1&&h]})]})},Us=()=>t.jsx(t.Fragment,{children:t.jsx(at,{})}),qs=()=>(o.useContext(L),t.jsx(nt,{children:t.jsxs(P,{element:t.jsx(Us,{}),children:[t.jsx(P,{path:"/",element:t.jsx(Es,{})}),t.jsx(P,{path:"/about",element:t.jsx(Rs,{})}),t.jsx(P,{path:"/sign-in",element:t.jsx(Fs,{})}),t.jsx(P,{path:"/sign-up",element:t.jsx(Ms,{})}),t.jsx(P,{path:"/style-guide",element:t.jsx(Ts,{})}),t.jsx(P,{path:"/plants",element:t.jsx(Ws,{})}),t.jsx(P,{path:"/plant/:uuid",element:t.jsx(Vs,{})}),t.jsx(P,{path:"/cart",element:t.jsx(Bs,{})}),t.jsx(P,{path:"*",element:t.jsx(Cs,{})})]})})),zs="bg-emerald-50 font-lato text-emerald-600",Xs=lt([{path:"*",element:t.jsx(qs,{})}]),Zs=()=>{const[e,s]=o.useState(()=>dt());D(),console.log("Render Capstone App");const n={data:e,isActive:()=>p.isObject(e),signIn:a=>{s(a),it(a)},signOut:async()=>{let a=!1;return p.isObject(e)?(console.log(`Sign out user {${e.username}}.`),a=await pt(e)):console.log("No user was signed in."),s(null),$e(),a}};return t.jsx(L.Provider,{value:n,children:t.jsx("div",{className:`${zs} min-h-screen`,children:t.jsx(rt,{router:Xs})})})};export{Zs as default};
