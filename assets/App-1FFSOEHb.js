import{r as u,j as n,L as T,u as Ee,A as Tt,a as Le,R as w,b as Rt,c as At,d as Ot,e as _,O as Mt,f as Dt,g as Pt}from"./index-DG5p-cNY.js";import{_ as b,t as z,f as W}from"./services-Dx03o7LF.js";const zt="https://user-friendly.dev/learning-api/demos/capstone/",_t="browser-mock-api-key",nt=(e=!1,t=null)=>({error:e,message:t}),B=e=>{const t=nt();return b.isObject(e)?(e.error?(t.error=!0,t.message=e.error):e.message?t.message=e.message:t.message="Success",{...e,...t}):t},$=async(e,t,s={},a=null)=>{b.isObject(s)||(s={});const r={method:e,credentials:"same-origin",headers:{...s,Authorization:`Bearer ${_t}`,"Content-Type":"application/json",Accept:"application/json"}};a&&(r.body=JSON.stringify(a));let o=!1;try{o=await(await fetch(zt+t,r)).json()}catch(l){return console.error("failed to get resource",l),nt(b.isObject(l)?l.toString():l)}return o},ne="Capstone-Session",ke="capstone_session_token",Ft=e=>{try{return localStorage.setItem(ke,JSON.stringify(e)),!0}catch(t){console.error(t)}return!1},Bt=()=>{try{return JSON.parse(localStorage.getItem(ke))}catch{st()}return!1},st=()=>localStorage.removeItem(ke),$t=async e=>{try{const t=JSON.stringify(e),s=await $("GET","plants",{[ne]:t});return B(s)}catch{console.error("Failed to get plants list.")}return!1},Ut=async(e,t)=>{try{const s=JSON.stringify(e),a=await $("GET",`plant/${t}`,{[ne]:s});return B(a)}catch{console.error(`Failed to get plant {${t}}.`)}return!1},Yt=async e=>{try{const t=JSON.stringify(e),s=await $("GET","cart",{[ne]:t});return B(s)}catch(t){console.error("Failed to get cart item list, error:",t)}return!1},Gt=async(e,t)=>{const s="550e8400-e29b-41d4-a716-446655440000";try{const a=JSON.stringify(e),r=await $("POST",`cart/${s}`,{[ne]:a},[t]);return B(r)}catch(a){console.error("Failed to get cart item list, error:",a)}return!1},Zt=async(e,t)=>{try{const s=JSON.stringify(e),a=await $("DELETE",`cart/${t}`,{[ne]:s});return B(a)}catch(s){console.error(`Failed to remove item {${t}} from cart list, error:`,s)}return!1},Xt=async(e,t,s)=>{const a=await $("POST","users",null,{username:e,password:t,password_confirm:s});return B(a)},Vt=async(e,t)=>{const s=await $("POST","users/session",null,{username:e,password:t}),a=B(s);return b.isString(s.capstone_session_token)&&(a.payload=JSON.parse(s.capstone_session_token)),a},qt=async e=>{const t=await $("DELETE","users/session",null,e);return B(t)},R=u.createContext(!1),Ne=e=>u.useContext(R).isActive()===!e.not?e.children:null,Wt=`
	p-2 rounded-lg bg-emerald-100 select-none cursor-pointer
	hover:bg-emerald-200 active:bg-emerald-300 text-emerald-700
`,Jt="text-[2rem] p-2 select-none text-emerald-700",S=e=>{if(e.name===void 0)return n.jsx(n.Fragment,{});const t=e.name,s=e.className,a=b.omit(b.clone(e),["name","className"]);return n.jsx("span",{className:"material-symbols-outlined "+z(Wt,s),...a,children:t})},F=e=>{if(e.name===void 0)return n.jsx(n.Fragment,{});const t=e.name,s=e.className,a=b.omit(b.clone(e),["name","className"]);return n.jsx("span",{className:"material-symbols-outlined "+z(Jt,s),...a,children:t})},Kt=`
	w-8 h-8 animate-spin rounded-full
	border-8 border-emerald-600 border-t-emerald-200
`,J=e=>{const t=e.className,s=b.omit(b.clone(e),["name","className","children"]);return n.jsx("div",{...s,className:z(Kt,t),children:e.children})},Ht=({item:e,onRemove:t})=>{const s=u.useContext(R),[a,r]=u.useState(),[o,l]=u.useState({error:!1}),{uuid:i,quantity:c,pot_color:d,name:m,price:v,image:f}=e.plant,g=Number(v*c).toFixed(2),p=y=>{a||(r(!0),l({error:!1}),(async()=>{const N=await Zt(s==null?void 0:s.data,e.id);N.error===!1?(console.log(`Removed item {${e.id}} from cart.`),t(e)):console.error("Failed to remove item from cart. Response:",N),l(N),r(!1)})())},h=n.jsx(J,{}),x=(o==null?void 0:o.error)!==!1&&n.jsx("div",{className:"mt-4 px-2 py-1 bg-rose-100 border border-rose-300 rounded-lg text-red-600 font-medium text-center",children:o.message});return n.jsxs("div",{className:"mb-10 last:mb-0 pb-10 border-b-2 flex text-neutral-500 font-bold",children:[n.jsx("div",{className:"basis-2/6 pb-6",children:n.jsx("img",{className:"w-48 rounded-lg",alt:m,src:f.src})}),n.jsxs("div",{className:"pl-8 flex-1 flex flex-col",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-playfair text-lg sm:text-3xl text-emerald-700 font-normal",children:m}),n.jsxs("span",{className:"ml-2",children:["$",g]})]}),n.jsxs("div",{className:"my-2",children:[n.jsx("span",{className:"w-16 inline-block text-neutral-400 font-normal",children:"qty: "}),c]}),n.jsxs("div",{children:[n.jsx("span",{className:"w-16 inline-block text-neutral-400 font-normal",children:"color: "}),d]}),n.jsx("div",{className:"pt-2 flex-1 flex justify-end items-end",children:x||n.jsx("button",{className:"flex items-center group hover:text-rose-700 active:translate-y-1",onClick:p,children:a?h:n.jsxs(n.Fragment,{children:["remove ",n.jsx(F,{className:"m-0 p-0 text-md text-neutral-400 group-hover:text-rose-700",name:"delete"})]})})})]})]})};var P=function(){return P=Object.assign||function(t){for(var s,a=1,r=arguments.length;a<r;a++){s=arguments[a];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},P.apply(this,arguments)};function at(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(s[a[r]]=e[a[r]]);return s}function Qt(e,t,s){if(s||arguments.length===2)for(var a=0,r=t.length,o;a<r;a++)(o||!(a in t))&&(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))}var oe="right-scroll-bar-position",le="width-before-scroll-bar",en="with-scroll-bars-hidden",tn="--removed-body-scroll-bar-size";function ge(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function nn(e,t){var s=u.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(a){var r=s.value;r!==a&&(s.value=a,s.callback(a,r))}}}})[0];return s.callback=t,s.facade}var sn=typeof window<"u"?u.useLayoutEffect:u.useEffect,_e=new WeakMap;function an(e,t){var s=nn(null,function(a){return e.forEach(function(r){return ge(r,a)})});return sn(function(){var a=_e.get(s);if(a){var r=new Set(a),o=new Set(e),l=s.current;r.forEach(function(i){o.has(i)||ge(i,null)}),o.forEach(function(i){r.has(i)||ge(i,l)})}_e.set(s,e)},[e]),s}function rn(e){return e}function on(e,t){t===void 0&&(t=rn);var s=[],a=!1,r={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(o){var l=t(o,a);return s.push(l),function(){s=s.filter(function(i){return i!==l})}},assignSyncMedium:function(o){for(a=!0;s.length;){var l=s;s=[],l.forEach(o)}s={push:function(i){return o(i)},filter:function(){return s}}},assignMedium:function(o){a=!0;var l=[];if(s.length){var i=s;s=[],i.forEach(o),l=s}var c=function(){var m=l;l=[],m.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(m){l.push(m),d()},filter:function(m){return l=l.filter(m),s}}}};return r}function ln(e){e===void 0&&(e={});var t=on(null);return t.options=P({async:!0,ssr:!1},e),t}var rt=function(e){var t=e.sideCar,s=at(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return u.createElement(a,P({},s))};rt.isSideCarExport=!0;function cn(e,t){return e.useMedium(t),rt}var ot=ln(),ve=function(){},he=u.forwardRef(function(e,t){var s=u.useRef(null),a=u.useState({onScrollCapture:ve,onWheelCapture:ve,onTouchMoveCapture:ve}),r=a[0],o=a[1],l=e.forwardProps,i=e.children,c=e.className,d=e.removeScrollBar,m=e.enabled,v=e.shards,f=e.sideCar,g=e.noIsolation,p=e.inert,h=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,N=e.gapMode,C=at(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,j=an([s,t]),O=P(P({},C),r);return u.createElement(u.Fragment,null,m&&u.createElement(E,{sideCar:ot,removeScrollBar:d,shards:v,noIsolation:g,inert:p,setCallbacks:o,allowPinchZoom:!!h,lockRef:s,gapMode:N}),l?u.cloneElement(u.Children.only(i),P(P({},O),{ref:j})):u.createElement(y,P({},O,{className:c,ref:j}),i))});he.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};he.classNames={fullWidth:le,zeroRight:oe};var dn=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function un(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=dn();return t&&e.setAttribute("nonce",t),e}function mn(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function hn(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fn=function(){var e=0,t=null;return{add:function(s){e==0&&(t=un())&&(mn(t,s),hn(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},xn=function(){var e=fn();return function(t,s){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},lt=function(){var e=xn(),t=function(s){var a=s.styles,r=s.dynamic;return e(a,r),null};return t},gn={left:0,top:0,right:0,gap:0},pe=function(e){return parseInt(e||"",10)||0},vn=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],r=t[e==="padding"?"paddingRight":"marginRight"];return[pe(s),pe(a),pe(r)]},pn=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return gn;var t=vn(e),s=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-s+t[2]-t[0])}},yn=lt(),q="data-scroll-locked",wn=function(e,t,s,a){var r=e.left,o=e.top,l=e.right,i=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(en,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(i,"px ").concat(a,`;
  }
  body[`).concat(q,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),s==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(a,`;
    `),s==="padding"&&"padding-right: ".concat(i,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(oe,` {
    right: `).concat(i,"px ").concat(a,`;
  }
  
  .`).concat(le,` {
    margin-right: `).concat(i,"px ").concat(a,`;
  }
  
  .`).concat(oe," .").concat(oe,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(le," .").concat(le,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(q,`] {
    `).concat(tn,": ").concat(i,`px;
  }
`)},Fe=function(){var e=parseInt(document.body.getAttribute(q)||"0",10);return isFinite(e)?e:0},bn=function(){u.useEffect(function(){return document.body.setAttribute(q,(Fe()+1).toString()),function(){var e=Fe()-1;e<=0?document.body.removeAttribute(q):document.body.setAttribute(q,e.toString())}},[])},jn=function(e){var t=e.noRelative,s=e.noImportant,a=e.gapMode,r=a===void 0?"margin":a;bn();var o=u.useMemo(function(){return pn(r)},[r]);return u.createElement(yn,{styles:wn(o,!t,r,s?"":"!important")})},Ce=!1;if(typeof window<"u")try{var ae=Object.defineProperty({},"passive",{get:function(){return Ce=!0,!0}});window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{Ce=!1}var X=Ce?{passive:!1}:!1,Sn=function(e){return e.tagName==="TEXTAREA"},it=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!Sn(e)&&s[t]==="visible")},Nn=function(e){return it(e,"overflowY")},Cn=function(e){return it(e,"overflowX")},Be=function(e,t){var s=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var r=ct(e,a);if(r){var o=dt(e,a),l=o[1],i=o[2];if(l>i)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},En=function(e){var t=e.scrollTop,s=e.scrollHeight,a=e.clientHeight;return[t,s,a]},Ln=function(e){var t=e.scrollLeft,s=e.scrollWidth,a=e.clientWidth;return[t,s,a]},ct=function(e,t){return e==="v"?Nn(t):Cn(t)},dt=function(e,t){return e==="v"?En(t):Ln(t)},kn=function(e,t){return e==="h"&&t==="rtl"?-1:1},In=function(e,t,s,a,r){var o=kn(e,window.getComputedStyle(t).direction),l=o*a,i=s.target,c=t.contains(i),d=!1,m=l>0,v=0,f=0;do{var g=dt(e,i),p=g[0],h=g[1],x=g[2],y=h-x-o*p;(p||y)&&ct(e,i)&&(v+=y,f+=p),i instanceof ShadowRoot?i=i.host:i=i.parentNode}while(!c&&i!==document.body||c&&(t.contains(i)||t===i));return(m&&(Math.abs(v)<1||!r)||!m&&(Math.abs(f)<1||!r))&&(d=!0),d},re=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$e=function(e){return[e.deltaX,e.deltaY]},Ue=function(e){return e&&"current"in e?e.current:e},Tn=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Rn=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},An=0,V=[];function On(e){var t=u.useRef([]),s=u.useRef([0,0]),a=u.useRef(),r=u.useState(An++)[0],o=u.useState(lt)[0],l=u.useRef(e);u.useEffect(function(){l.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var h=Qt([e.lockRef.current],(e.shards||[]).map(Ue),!0).filter(Boolean);return h.forEach(function(x){return x.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),h.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var i=u.useCallback(function(h,x){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!l.current.allowPinchZoom;var y=re(h),N=s.current,C="deltaX"in h?h.deltaX:N[0]-y[0],E="deltaY"in h?h.deltaY:N[1]-y[1],j,O=h.target,M=Math.abs(C)>Math.abs(E)?"h":"v";if("touches"in h&&M==="h"&&O.type==="range")return!1;var Z=Be(M,O);if(!Z)return!0;if(Z?j=M:(j=M==="v"?"h":"v",Z=Be(M,O)),!Z)return!1;if(!a.current&&"changedTouches"in h&&(C||E)&&(a.current=j),!j)return!0;var se=a.current||j;return In(se,x,h,se==="h"?C:E,!0)},[]),c=u.useCallback(function(h){var x=h;if(!(!V.length||V[V.length-1]!==o)){var y="deltaY"in x?$e(x):re(x),N=t.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&Tn(j.delta,y)})[0];if(N&&N.should){x.cancelable&&x.preventDefault();return}if(!N){var C=(l.current.shards||[]).map(Ue).filter(Boolean).filter(function(j){return j.contains(x.target)}),E=C.length>0?i(x,C[0]):!l.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),d=u.useCallback(function(h,x,y,N){var C={name:h,delta:x,target:y,should:N,shadowParent:Mn(y)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(E){return E!==C})},1)},[]),m=u.useCallback(function(h){s.current=re(h),a.current=void 0},[]),v=u.useCallback(function(h){d(h.type,$e(h),h.target,i(h,e.lockRef.current))},[]),f=u.useCallback(function(h){d(h.type,re(h),h.target,i(h,e.lockRef.current))},[]);u.useEffect(function(){return V.push(o),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:f}),document.addEventListener("wheel",c,X),document.addEventListener("touchmove",c,X),document.addEventListener("touchstart",m,X),function(){V=V.filter(function(h){return h!==o}),document.removeEventListener("wheel",c,X),document.removeEventListener("touchmove",c,X),document.removeEventListener("touchstart",m,X)}},[]);var g=e.removeScrollBar,p=e.inert;return u.createElement(u.Fragment,null,p?u.createElement(o,{styles:Rn(r)}):null,g?u.createElement(jn,{gapMode:e.gapMode}):null)}function Mn(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Dn=cn(ot,On);var Ie=u.forwardRef(function(e,t){return u.createElement(he,P({},e,{ref:t,sideCar:Dn}))});Ie.classNames=he.classNames;const ce=u.createContext(0),Pn="",L=e=>{const t=u.useContext(ce),s=b.omit(b.clone(e),["className"]);return n.jsx(ce.Provider,{value:t+1,children:n.jsx("div",{className:z(Pn,e.className),...s,children:e.children})})},Ye=["","ml-2","ml-6","ml-10","ml-14","ml-20"],ut=()=>{const e=u.useContext(ce);return e<7?Ye[e-1]:Ye[5]},zn="my-2",I=e=>{const t=ut();return n.jsx("p",{className:z(zn,t,e.className),children:e.children})},_n=["text-6xl","text-5xl","text-4xl","text-3xl","text-2xl","text-xl"],Fn="text-xl font-playfair",Bn=e=>{switch(e.level){case 0:case 1:return n.jsx("h1",{...e,children:e.children});case 2:return n.jsx("h2",{...e,children:e.children});case 3:return n.jsx("h3",{...e,children:e.children});case 4:return n.jsx("h4",{...e,children:e.children});case 5:return n.jsx("h5",{...e,children:e.children});case 6:default:return n.jsx("h6",{...e,children:e.children})}return n.jsx("div",{...e,children:e.children})},k=e=>{const t=u.useContext(ce),s=ut();return n.jsx(Bn,{level:t,className:z(Fn,s,_n[t-1],e.className),children:e.children})},Ge="cart-modal",$n=`fixed top-0 right-0 w-full h-full bg-black/30 backdrop-blur-sm
	flex-col items-end overflow-auto
`,Un=()=>{window.dispatchEvent(new Event("showCartModal"))},Ze=()=>{window.dispatchEvent(new Event("hideCartModal"))},Yn=()=>{var i;const e=u.useContext(R),[t,s]=u.useState(!1),a=()=>{s(!0)},r=()=>{s(!1)};u.useEffect(()=>(window.addEventListener("showCartModal",a),window.addEventListener("hideCartModal",r),()=>{window.removeEventListener("showCartModal",a),window.removeEventListener("hideCartModal",r)}),[t]);const o=n.jsx(S,{name:"close",className:"rounded-full"}),l=c=>{c.target.id===Ge&&Ze()};return n.jsx(Ne,{children:n.jsx(Ie,{enabled:t,children:n.jsxs(L,{id:Ge,className:W(!t&&"hidden"||"flex",$n),onClick:l,children:[n.jsxs("div",{className:"w-full max-w-lg p-8 flex justify-between bg-emerald-800 animate-slideRight",children:[n.jsxs(k,{className:"flex-1 text-center text-2xl text-white",children:[(i=e.data)==null?void 0:i.username,"'s Cart"]}),n.jsx("button",{onClick:Ze,children:o})]}),t&&n.jsx(mt,{className:"animate-slideRight"})]})})})},ee=1,Gn="underline text-neutral-400 hover:text-neutral-600 active:translate-y-0.5",Zn=`p-2 self-stretch rounded-full
	flex justify-center items-center
	bg-emerald-700 hover:bg-emerald-800 active:bg-emerald-600 font-medium text-white text-lg`,Xn=({list:e})=>{if(!b.isArray(e)||b.isEmpty(e))return n.jsx(n.Fragment,{});const t=e.length,s=e.reduce((a,r)=>a+r.plant.price,0);return n.jsxs("div",{className:"p-6 pt-2 text-neutral-400 flex flex-col items-end",children:[n.jsxs("div",{className:"my-4 self-stretch flex justify-between items-center",children:[n.jsxs("div",{children:[t," items"]}),n.jsxs("div",{className:"flex items-center",children:["subtotal:",n.jsxs("span",{className:"ml-2 text-neutral-500 text-lg font-bold",children:["$",s.toFixed(2)]})]})]}),n.jsxs("button",{className:Zn,children:["Checkout ",n.jsx(F,{className:"text-white text-2xl",name:"shopping_cart_checkout"})]})]})},mt=e=>{const{className:t,onRemove:s}=e,a=u.useContext(R),[r,o]=u.useState(null),[l,i]=u.useState({error:!1}),c=async()=>{if(!a.isActive()||r===ee)return;i({error:!1}),o(ee);const f=await Yt(a==null?void 0:a.data);f.error===!1?o(f.data):(console.error("Failed to get cart item list. Response:",f),o(null)),i(f)};u.useEffect(()=>{c()},[a.data]);const d=f=>{const g=r.findIndex(p=>p.id===f.id);r[g]!==void 0&&(r.splice(g,1),o([...r]))},m=n.jsx("div",{className:"flex-1 flex justify-center items-center",children:n.jsx(J,{})});W("rounded-full",r===ee&&"animate-spinOnce");const v=(l==null?void 0:l.error)!==!1&&n.jsx("div",{className:"px-2 py-1 flex justify-center items-center bg-rose-100 border border-rose-300 rounded-lg text-red-600 font-medium",children:l.message});return n.jsxs("div",{className:z("w-full max-w-lg p-4 flex-1 flex flex-col bg-emerald-50",t),children:[v,r===ee&&m,r!==ee&&b.isEmpty(r)&&n.jsxs(n.Fragment,{children:[n.jsx("div",{children:"Your cart is empty."}),n.jsxs("div",{children:["Visit the ",n.jsx(T,{className:Gn,to:"/plants",children:"Plant List"})," page for a great selection of plants ready to be Yours!"]})]}),n.jsx("div",{className:"p-6 pb-0 flex flex-col",children:b.isArray(r)&&r.map((f,g)=>n.jsx(Ht,{item:f,onRemove:d},g))}),n.jsx(Xn,{list:r})]})},Vn="py-2 px-1 font-lato font-medium hover:text-emerald-200 active:translate-y-0.5",de=`
	bg-transparent text-white
	hover:bg-emerald-700 group-hover:bg-emerald-700 active:bg-emerald-600 group-active:bg-emerald-600
`,qn=`${de} rounded-full animate-spin`,Y=`${Vn} relative group flex justify-end items-center`,Wn="hidden md:inline px-1 group-hover:underline",te=`${de}`,Jn="text-white px-1 group-hover:underline",ht=({isHam:e=!1})=>{var c;const t=Ee(),s=u.useContext(R),[a,r]=u.useState(!1),o=e?Jn:Wn,l=async d=>{d.stopPropagation(),!a&&(r(!0),await s.signOut()&&t("/"),r(!1))},i=d=>{d.preventDefault(),Un()};return n.jsxs(n.Fragment,{children:[n.jsxs(Ne,{children:[n.jsxs(T,{className:Y,onClick:l,title:"Sign Out",children:[n.jsx("span",{className:o,children:"Sign Out"}),a&&n.jsx(S,{name:"progress_activity",className:qn})||n.jsx(S,{name:"logout",className:de})]}),n.jsxs(T,{className:Y,title:"Account",children:[n.jsx("span",{className:o,children:(c=s.data)==null?void 0:c.username}),n.jsx(S,{name:"account_circle",className:te})]}),n.jsxs(T,{className:Y,to:"/cart",title:"Cart",onClick:i,children:[n.jsx("span",{className:o,children:"Cart"}),n.jsx(S,{className:te,name:"shopping_cart"})]}),n.jsxs(T,{className:Y,to:"/",title:"Home",children:[n.jsx("span",{className:o,children:"Home"}),n.jsx(S,{name:"home",className:te})]}),n.jsxs(T,{className:Y,to:"/plants",title:"Plant List",children:[n.jsx("span",{className:o,children:"Plant List"}),n.jsx(S,{name:"potted_plant",className:te})]}),n.jsxs(T,{className:Y,to:"/about",title:"About",children:[n.jsx("span",{className:o,children:"About"}),n.jsx(S,{name:"info",className:te})]})]}),n.jsx(Ne,{not:!0,children:n.jsxs(T,{className:Y,to:"/sign-in",title:"Sign In",children:[n.jsx("span",{className:o,children:"Sign In"}),n.jsx(S,{name:"login",className:de})]})})]})},Kn="block sm:hidden text-5xl bg-emerald-800 text-emerald-200 hover:text-emerald-300 hover:bg-emerald-600",Hn="self-end mr-1 bg-emerald-200 text-emerald-800 hover:text-emerald-300 hover:bg-emerald-600",Qn="fixed top-0 right-0 w-full h-full bg-black/30 backdrop-blur-sm flex justify-end items-start",es=()=>{const e=u.useRef(),[t,s]=u.useState(!1),a=r=>{s(!1)};return u.useEffect(()=>{const r=o=>{e.current&&!e.current.contains(o.target)&&a()};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]),n.jsxs(n.Fragment,{children:[n.jsx(S,{name:"menu",className:Kn,onClick:r=>s(!0)}),n.jsx(Ie,{enabled:t,children:n.jsx("div",{className:W(!t&&"hidden",Qn),children:n.jsxs("nav",{ref:e,className:"p-4 flex flex-col justify-center block bg-emerald-800/95 rounded-bl-lg animate-slideDown",children:[n.jsx(S,{name:"close",className:Hn,onClick:r=>s(!1)}),n.jsx("div",{className:"flex flex-col justify-start items-end max-h-[500px] overflow-y-auto",onClick:a,children:n.jsx(ht,{isHam:!0})})]})})})]})},ye=`
	my-1 py-2 px-3 bg-sky-200 rounded-lg
	text-center font-lato font-medium text-sky-800 hover:text-sky-300 hover:bg-sky-600
`,Xe="self-end bg-sky-200 text-sky-800 hover:text-sky-300 hover:bg-sky-600",ts=()=>{const e=u.useRef(),[t,s]=u.useState(!1);u.useEffect(()=>{const r=o=>{e.current&&!e.current.contains(o.target)&&s(!1)};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]);const a=t?n.jsx(S,{name:"close",className:Xe,onClick:r=>s(!1)}):n.jsx(S,{name:"menu",className:Xe,onClick:r=>s(!0)});return n.jsxs("div",{ref:e,className:W("fixed bottom-2 right-2 w-40 p-2 flex flex-col-reverse justify-center",t&&"bg-sky-100 rounded-lg shadow-lg"),children:[a,n.jsxs("div",{className:"flex flex-col justify-center "+(t?null:"hidden"),onClick:()=>s(!1),children:[n.jsx(Tt,{className:ye,appid:"default",children:"Main App"}),n.jsx(T,{className:ye,to:"/style-guide",children:"Style Guide"}),n.jsx(T,{className:ye,to:"/",children:"Rica's Plants"})]})]})},K=()=>n.jsxs(n.Fragment,{children:[n.jsx("nav",{className:"navbar flex justify-center bg-emerald-800",children:n.jsxs("div",{className:"w-full max-w-5xl flex p-8 justify-end items-center text-white",children:[n.jsx("div",{className:"min-w-64 flex-1 flex",children:n.jsxs(T,{to:"/",className:"p-2 flex justify-start items-center",children:[n.jsx("img",{className:"w-10",title:"brand logo",src:"https://static-task-assets.react-formula.com/capstone_logo_light.png"}),n.jsx("span",{className:"ml-4 font-playfair text-2xl",children:"Rica's Plants"})]})}),n.jsx("div",{className:"hidden sm:flex flex-row-reverse flex-wrap justify-start",children:n.jsx(ht,{})}),n.jsx(es,{})]})}),n.jsx(Yn,{}),n.jsx(ts,{})]}),ns=()=>n.jsxs("div",{className:"h-screen bg-rose-50 flex flex-col",children:[n.jsx(K,{}),n.jsxs("div",{className:"pt-36 flex flex-col justify-center items-center",children:[n.jsxs("h1",{className:"my-3 px-3 text-4xl text-center",children:["Error 404: ",n.jsx("br",{className:"sm:hidden"})," Page Not Found"]}),n.jsx("p",{className:"py-3 px-8 max-w-xl",children:"The page you requested was not found. Please, contact the webadmin if this is a real issue. You might also be a snowflake if you contact the webadmin."})]})]}),ss=!1,H=e=>{const t=u.useContext(R),s=Ee(),a=e.path!==void 0?e.path:"/",r=e.delay!==void 0?e.delay:ss;return u.useEffect(()=>{if(t.isActive()===!e.not)if(r!==!1){const o=setTimeout(()=>s(a),r);return()=>clearTimeout(o)}else s(a)},[t.data]),e.children},as=()=>n.jsxs(H,{not:!0,path:"/sign-in",children:[n.jsx(K,{}),n.jsxs(L,{className:"p-8 mx-auto w-full max-w-5xl",children:[n.jsx(k,{className:"p-2 text-center",children:"Welcome to Rica's Plants"}),n.jsx(I,{children:"Your one-stop destination for all things green and growing! Our passion for plants shines through in our diverse selection of lush houseplants, exotic succulents, and vibrant garden favorites. We believe that plants bring more than just beauty to a space; they breathe life into your home, purify your air, and uplift your spirit. Whether you’re a seasoned green thumb or a first-time plant parent, we’re here to help you cultivate the perfect indoor oasis."}),n.jsx(I,{children:"At Rica's Plants, we understand that every plant has its own personality and needs. That's why we offer detailed care guides, personalized recommendations, and friendly support to ensure your plants thrive. From bright, sun-loving cacti to delicate, shade-loving ferns, we have options to suit every environment and lifestyle. Our commitment to quality means that each plant is carefully selected and nurtured until it's ready to become part of your space."}),n.jsx(I,{children:"Discover the joy of nurturing your own slice of nature with our specially curated collections. Our selection changes with the seasons, allowing you to find the freshest additions to your plant family throughout the year. Explore our rare finds section for unique specimens that will make your collection truly stand out. Join our community of plant lovers and embark on a journey of growth, inspiration, and endless greenery."})]})]}),D=`
	The quick brown fox jumps over the lazy dog, darting swiftly across the field with grace.
	As it leaps, its sleek fur glistens under the afternoon sun, casting fleeting shadows on the
	ground. The dog, unmoved by the fox's antics, lies lazily on the grass, its eyes half-closed
	in contentment. Around them, the sounds of nature fill the air: the chirping of birds,
	the rustling of leaves, and the distant hum of a breeze that stirs the tall grass. Time seems
	to slow in this peaceful moment, where the simple beauty of the scene speaks louder than words.
`,rs=()=>n.jsxs(n.Fragment,{children:[n.jsx(K,{}),n.jsxs("div",{className:"p-6 m-auto max-w-5xl ",children:[n.jsx("h1",{className:"my-4 text-5xl",children:"Heading"}),n.jsx("div",{className:"my-4 text-xl font-playfair",children:"Font Playfair Display test. This here is some random text to test the given font."}),n.jsx("div",{className:"my-4 text-xl font-lato",children:"Font Lato test. This here is some random text to test the given font."}),n.jsxs("div",{children:[n.jsx("h2",{className:"my-4 text-4xl",children:"Icons"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsx(S,{name:"menu"}),n.jsx(S,{name:"home",className:"text-4xl"}),n.jsx(S,{name:"account_circle"}),n.jsx(S,{name:"login"}),n.jsx(S,{name:"progress_activity",className:"rounded-full bg-transparent text-amber-700 hover:bg-amber-200 active:bg-amber-300 animate-spin"}),n.jsx(S,{name:"logout"}),n.jsx(S,{name:"close",className:"bg-violet-100 text-violet-700 hover:bg-violet-200 active:bg-violet-300"})]})]})]}),n.jsxs(L,{className:"my-20",children:[n.jsx(k,{children:"Sub heading"}),n.jsx(I,{children:D}),n.jsxs(L,{children:[n.jsx(k,{children:"Sub heading"}),n.jsx(I,{children:D}),n.jsxs(L,{children:[n.jsx(k,{children:"Sub heading"}),n.jsx(I,{children:D}),n.jsxs(L,{children:[n.jsx(k,{children:"Sub heading"}),n.jsx(I,{children:D}),n.jsxs(L,{children:[n.jsx(k,{children:"Sub heading"}),n.jsx(I,{children:D}),n.jsxs(L,{children:[n.jsx(k,{children:"Sub heading"}),n.jsx(I,{children:D}),n.jsxs(L,{children:[n.jsx(k,{children:"Sub heading"}),n.jsx(I,{children:D}),n.jsxs(L,{children:[n.jsx(k,{children:"Sub heading"}),n.jsx(I,{children:D})]})]})]})]})]})]})]})]}),n.jsxs(L,{className:"my-20",children:[n.jsx(k,{children:"Sub heading"}),n.jsx(I,{children:D}),n.jsxs(L,{children:[n.jsx(k,{children:"Sub heading"}),n.jsx(I,{children:D})]})]})]}),we={text:"p-1 px-2 rounded-lg border border-slate-300 text-slate-600 bg-slate-50 focus:outline-emerald-600",button:"py-2 cursor-pointer rounded-lg text-white bg-green-800 hover:bg-green-700 active:bg-green-600",submit:"py-2 cursor-pointer rounded-lg text-white bg-green-800 hover:bg-green-700 active:bg-green-600"},be={text:"ml-3 mb-2 -mt-2 text-slate-400",button:"hidden"},os=({name:e,value:t,type:s="text",label:a,placeholder:r="",onChange:o,isButton:l=!1,onClick:i})=>{const c=u.useId(),d=we[s]!==void 0?we[s]:we.text,m=be[s]!==void 0?be[s]:be.text;return n.jsxs("div",{className:"my-3 flex flex-col",children:[a&&n.jsx("label",{className:m,htmlFor:c,children:a}),l?n.jsx("button",{className:d,type:s,name:e,id:c,onClick:i,children:t}):n.jsx("input",{className:d,type:s,name:e,id:c,placeholder:r,value:t,onChange:o})]})},ls=`
	m-4 pt-2 pb-4 px-8 bg-white border rounded-lg border-slate-300 font-lato font-medium
	min-w-80 flex flex-col 
`,is=e=>{for(const t of e)if(t.name===void 0)throw"Form fields MUST have names."},cs=e=>{const t={};for(const s of e)t[s.name]=s.value!==void 0?s.value:"";return t},ds=(e,t,s)=>({...e,[t]:s}),ft=e=>{is(e.fields);const t=u.useId(),[s,a]=u.useState(()=>cs(e.fields)),r=l=>{l.preventDefault(),e.onSubmit(s,t,l)},o=b.assign(b.omit(e,["fields"]),{className:ls,name:`form-${t}`,method:"POST",action:"",onSubmit:r});return n.jsxs("form",{...o,children:[e.fields.map((l,i)=>n.jsx(os,{onChange:c=>a(ds(s,l.name,c.target.value)),...l,value:l.isButton?l.value:s[l.name]},i)),o.children]})},xt=e=>{const t=e.children,s=e.status?e.status:{error:!1,message:null};return s.error!==!1&&!s.message&&(s.message="Something went wrong - try again later"),n.jsxs("div",{className:"flex",children:[n.jsxs("div",{className:"relative hidden md:block",children:[n.jsx("img",{className:"h-screen object-cover",title:"plants on a rack",src:"https://static-task-assets.react-formula.com/capstone_sign_in_scene.png"}),n.jsx("div",{className:"absolute inset-0 w-full h-full bg-black/10"}),n.jsx("div",{className:"absolute inset-0 w-full h-full bg-emerald-800/40"})]}),n.jsxs("div",{className:"h-screen flex-1 bg-emerald-50 flex flex-col items-center justify-center",children:[n.jsxs("div",{className:"flex flex-col items-center mx-2 my-8",children:[n.jsx("img",{className:"w-16 mb-2 ",title:"brand logo",src:"https://static-task-assets.react-formula.com/capstone_logo_dark.png"}),n.jsx("div",{className:"font-playfair text-emerald-700 text-2xl",children:"Rica's Plants"})]}),s.message?n.jsx("div",{className:W("animate-slideDown py-1 px-2 rounded-lg border",s.error?"bg-red-100 border-red-600 text-red-600 font-medium":"text-emerald-800 bg-emerald-100 border-emerald-600"),children:s.message}):null,t]})]})},us=1500,Ve=()=>({error:!1,message:null}),ms=()=>{const e=u.useContext(R),t=Le(),[s,a]=u.useState(!1),[r,o]=u.useState(!1),[l,i]=u.useState(()=>b.has(t,"state.status.message")?t.state.status:Ve()),c=async(v,f,g)=>{if(r||e.isActive())return;console.log(`Sing up form {${f}} submitted.`),console.log("Values:",v),o(!0),i(Ve());const p=await Vt(v.username,v.password);p.error===!1&&b.isObject(p.payload)&&(console.log("Login successful. Login details:",p.payload),e.signIn(p.payload),a(us)),i({error:p.error,message:p.message}),o(!1)},d=n.jsx("span",{className:"flex justify-center",children:n.jsxs("span",{className:"relative",children:["Sign In ",r?n.jsx(J,{className:"absolute top-0 -right-8 ml-2 w-6 h-6 border-4 border-transparent border-t-white"}):null]})}),m=[{name:"username",label:"username",value:b.has(t,"state.username")?t.state.username:void 0,type:"text"},{name:"password",label:"password",type:"password"},{name:"submit_button",value:d,type:"submit",isButton:!0}];return n.jsx(H,{path:"/plants",delay:s,children:n.jsxs(xt,{status:l,children:[n.jsx(ft,{onSubmit:c,fields:m}),n.jsx(T,{to:"/sign-up",className:"text-sm text-green-700 underline hover:text-green-500",children:"Create an Account"})]})})},qe=()=>({error:!1,message:null}),hs=()=>{const e=u.useContext(R),t=Ee(),[s,a]=u.useState(!1),[r,o]=u.useState(()=>qe()),l=async(d,m,v)=>{if(s||e.isActive())return;console.log(`Sing up form {${m}} submitted.`),console.log("Values:",d),a(!0),o(qe());const f=await Xt(d.username,d.password,d.password_confirm);if(f.error===!1){const g=b.clone(f);g.message="You can login with Your username & password",f.message=n.jsxs(n.Fragment,{children:[f.message,n.jsx("br",{}),"Redirecting You to Sing In page..."]}),setTimeout(()=>t("/sign-in",{state:{status:g,username:d.username}}),1500)}o(f),a(!1)},c=[{label:"username",name:"username",type:"text"},{label:"password",name:"password",type:"password"},{label:"confirm password",name:"password_confirm",type:"password"},{name:"submit_button",value:n.jsx("span",{className:"flex justify-center",children:n.jsxs("span",{className:"relative",children:["Create an Account ",s?n.jsx(J,{className:"absolute top-0 -right-8 ml-2 w-6 h-6 border-4 border-transparent border-t-white"}):null]})}),type:"submit",isButton:!0}];return n.jsx(H,{path:"/plants",children:n.jsxs(xt,{status:r,children:[n.jsx(ft,{onSubmit:l,fields:c}),n.jsx(T,{to:"/sign-in",className:"text-sm text-green-700 underline hover:text-green-500",children:"Log into Account"})]})})},fs=()=>{var t;const e=u.useContext(R);return n.jsxs(H,{not:!0,path:"/sign-in",children:[n.jsx(K,{}),n.jsx(L,{className:"py-24 flex justify-center",children:n.jsxs("div",{className:"w-full max-w-5xl",children:[n.jsxs(k,{className:"px-8 text-4xl",children:[(t=e.data)==null?void 0:t.username,"'s Cart"]}),n.jsx(mt,{})]})})]})},gt={stone:"bg-stone-200",slate:"bg-slate-300",sky:"bg-sky-700",black:"bg-gray-600",white:"bg-gray-50",amber:"bg-amber-600"},xs=e=>{const{images:t,selected:s,className:a,onClick:r,onMouseEnter:o,onMouseLeave:l,buttonStyle:i,labelStyle:c}=e;return n.jsx("div",{className:a,children:t.map((d,m)=>n.jsx("div",{className:"mx-1 flex flex-col items-center "+(s===m&&"group selected"),children:n.jsx("button",{className:z("w-5 h-5 rounded-full block",s===m&&"outline outline-1 outline-offset-2 outline-slate-400",gt[t[m].pot_color],i),onClick:()=>r(m),onMouseEnter:()=>o(m),onMouseLeave:()=>l(m)})},m))})},gs={stone:"text-stone-400",slate:"text-slate-500",sky:"text-sky-700",black:"text-gray-600",white:"text-gray-400",amber:"text-amber-600"},vs=e=>{const[t,s]=u.useState(()=>b.random(0,e.data.images.length-1)),[a,r]=u.useState(t),{data:o}=e,l=Number(o.price).toFixed(2),i=o.images[a].pot_color;return n.jsxs("div",{className:"mx-5 my-8",children:[n.jsx(T,{to:`/plant/${o.uuid}`,state:{plantImageIdx:t},children:n.jsx("img",{className:"w-[280px] h-[320px] object-cover rounded-md",alt:o.description,src:o.images[a].src})}),n.jsxs("div",{className:"my-3 flex justify-between",children:[n.jsx("div",{className:"text-xl text-emerald-700",children:o.name}),n.jsxs("div",{className:"text-lg text-emerald-600",children:["$",l]})]}),n.jsxs("div",{className:"my-3 flex justify-between",children:[n.jsx("div",{className:gs[i]+" font-medium",children:i}),n.jsx(xs,{className:"flex justify-end",images:o.images,selected:t,onClick:c=>{s(c),r(c)},onMouseEnter:c=>r(c),onMouseLeave:()=>r(t)})]})]})},je=1,ps=()=>{const e=u.useContext(R),[t,s]=u.useState(null),[a,r]=u.useState({error:!1}),o=async()=>{if(t===je)return;r({error:!1}),s(je);const c=await $t(e==null?void 0:e.data);c.error===!1?s(c.data):(console.error("Failed to get plants list. Response:",c),s(null)),r(c)};u.useEffect(()=>{o()},[e.data]);const l=n.jsx(S,{name:"refresh",className:W("rounded-full",t===je&&"animate-spinOnce")}),i=n.jsx(J,{className:"mt-28"});return n.jsxs(H,{not:!0,path:"/sign-in",children:[n.jsx(K,{}),n.jsx(L,{className:"py-24 flex justify-center",children:n.jsxs("div",{className:"w-full max-w-5xl",children:[n.jsxs(k,{className:"px-8 text-4xl",children:["Plants In Stock ",n.jsx("button",{onClick:()=>o(),children:l})]}),n.jsx("div",{className:"flex flex-wrap justify-center",children:b.isArray(t)&&t.map((c,d)=>n.jsx(vs,{data:c},c.id))||(a==null?void 0:a.error)===!1&&i}),(a==null?void 0:a.error)!==!1&&n.jsx("div",{className:"px-2 py-1 max-w-80 bg-rose-100 border border-rose-300 rounded-lg text-red-600 font-medium",children:a.message})]})})]})};function ys(){return w.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-unzoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},w.createElement("path",{d:"M 14.144531 1.148438 L 9 6.292969 L 9 3 L 8 3 L 8 8 L 13 8 L 13 7 L 9.707031 7 L 14.855469 1.851563 Z M 8 8 L 3 8 L 3 9 L 6.292969 9 L 1.148438 14.144531 L 1.851563 14.855469 L 7 9.707031 L 7 13 L 8 13 Z"}))}function ws(){return w.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-zoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},w.createElement("path",{d:"M 9 1 L 9 2 L 12.292969 2 L 2 12.292969 L 2 9 L 1 9 L 1 14 L 6 14 L 6 13 L 2.707031 13 L 13 2.707031 L 13 6 L 14 6 L 14 1 Z"}))}const ue=(e,t)=>{var s,a;return e===((a=(s=t==null?void 0:t.tagName)==null?void 0:s.toUpperCase)==null?void 0:a.call(s))},Te=e=>ue("DIV",e)||ue("SPAN",e),me=e=>ue("IMG",e),We=e=>e.complete&&e.naturalHeight!==0,ie=e=>ue("SVG",e),vt=({height:e,offset:t,width:s})=>Math.min((window.innerWidth-t*2)/s,(window.innerHeight-t*2)/e),bs=({containerHeight:e,containerWidth:t,offset:s,targetHeight:a,targetWidth:r})=>{const o=vt({height:a,offset:s,width:r}),l=r>a?r/t:a/e;return o>1?l:o*l},G=({containerHeight:e,containerWidth:t,hasScalableSrc:s,offset:a,targetHeight:r,targetWidth:o})=>!e||!t?1:!s&&r&&o?bs({containerHeight:e,containerWidth:t,offset:a,targetHeight:r,targetWidth:o}):vt({height:e,offset:a,width:t}),js=/url(?:\(['"]?)(.*?)(?:['"]?\))/,Je=e=>{var t;if(e){if(me(e))return e.currentSrc;if(Te(e)){const s=window.getComputedStyle(e).backgroundImage;if(s)return(t=js.exec(s))==null?void 0:t[1]}}},Ss=e=>{if(e)return me(e)?e.alt??void 0:e.getAttribute("aria-label")??void 0},Ns=({containerHeight:e,containerLeft:t,containerTop:s,containerWidth:a,hasScalableSrc:r,offset:o,targetHeight:l,targetWidth:i})=>{const c=G({containerHeight:e,containerWidth:a,hasScalableSrc:r,offset:o,targetHeight:l,targetWidth:i});return{top:s,left:t,width:a*c,height:e*c,transform:`translate(0,0) scale(${1/c})`}},A=({position:e,relativeNum:t})=>{const s=parseFloat(e);return e.endsWith("%")?t*s/100:s},Cs=({containerHeight:e,containerLeft:t,containerTop:s,containerWidth:a,hasScalableSrc:r,objectFit:o,objectPosition:l,offset:i,targetHeight:c,targetWidth:d})=>{if(o==="scale-down"&&(d<=a&&c<=e?o="none":o="contain"),o==="cover"||o==="contain"){const m=a/d,v=e/c,f=o==="cover"?Math.max(m,v):Math.min(m,v),[g="50%",p="50%"]=l.split(" "),h=A({position:g,relativeNum:a-d*f}),x=A({position:p,relativeNum:e-c*f}),y=G({containerHeight:c*f,containerWidth:d*f,hasScalableSrc:r,offset:i,targetHeight:c,targetWidth:d});return{top:s+x,left:t+h,width:d*f*y,height:c*f*y,transform:`translate(0,0) scale(${1/y})`}}else if(o==="none"){const[m="50%",v="50%"]=l.split(" "),f=A({position:m,relativeNum:a-d}),g=A({position:v,relativeNum:e-c}),p=G({containerHeight:c,containerWidth:d,hasScalableSrc:r,offset:i,targetHeight:c,targetWidth:d});return{top:s+g,left:t+f,width:d*p,height:c*p,transform:`translate(0,0) scale(${1/p})`}}else if(o==="fill"){const m=a/d,v=e/c,f=Math.max(m,v),g=G({containerHeight:c*f,containerWidth:d*f,hasScalableSrc:r,offset:i,targetHeight:c,targetWidth:d});return{width:a*g,height:e*g,transform:`translate(0,0) scale(${1/g})`}}else return{}},Es=({backgroundPosition:e,backgroundSize:t,containerHeight:s,containerLeft:a,containerTop:r,containerWidth:o,hasScalableSrc:l,offset:i,targetHeight:c,targetWidth:d})=>{if(t==="cover"||t==="contain"){const m=o/d,v=s/c,f=t==="cover"?Math.max(m,v):Math.min(m,v),[g="50%",p="50%"]=e.split(" "),h=A({position:g,relativeNum:o-d*f}),x=A({position:p,relativeNum:s-c*f}),y=G({containerHeight:c*f,containerWidth:d*f,hasScalableSrc:l,offset:i,targetHeight:c,targetWidth:d});return{top:r+x,left:a+h,width:d*f*y,height:c*f*y,transform:`translate(0,0) scale(${1/y})`}}else if(t==="auto"){const[m="50%",v="50%"]=e.split(" "),f=A({position:m,relativeNum:o-d}),g=A({position:v,relativeNum:s-c}),p=G({containerHeight:c,containerWidth:d,hasScalableSrc:l,offset:i,targetHeight:c,targetWidth:d});return{top:r+g,left:a+f,width:d*p,height:c*p,transform:`translate(0,0) scale(${1/p})`}}else{const[m="50%",v="50%"]=t.split(" "),f=A({position:m,relativeNum:o}),g=A({position:v,relativeNum:s}),p=f/d,h=g/c,x=Math.min(p,h),[y="50%",N="50%"]=e.split(" "),C=A({position:y,relativeNum:o-d*x}),E=A({position:N,relativeNum:s-c*x}),j=G({containerHeight:c*x,containerWidth:d*x,hasScalableSrc:l,offset:i,targetHeight:c,targetWidth:d});return{top:r+E,left:a+C,width:d*x*j,height:c*x*j,transform:`translate(0,0) scale(${1/j})`}}},Ls=/\.svg$/i,ks=({hasZoomImg:e,imgSrc:t,isSvg:s,isZoomed:a,loadedImgEl:r,offset:o,shouldRefresh:l,targetEl:i})=>{var y;const c=s||((y=t==null?void 0:t.slice)==null?void 0:y.call(t,0,18))==="data:image/svg+xml"||e||!!(t&&Ls.test(t)),d=i.getBoundingClientRect(),m=window.getComputedStyle(i),v=r!=null&&Te(i),f=r!=null&&!v,g=Ns({containerHeight:d.height,containerLeft:d.left,containerTop:d.top,containerWidth:d.width,hasScalableSrc:c,offset:o,targetHeight:(r==null?void 0:r.naturalHeight)||d.height,targetWidth:(r==null?void 0:r.naturalWidth)||d.width}),p=f?Cs({containerHeight:d.height,containerLeft:d.left,containerTop:d.top,containerWidth:d.width,hasScalableSrc:c,objectFit:m.objectFit,objectPosition:m.objectPosition,offset:o,targetHeight:(r==null?void 0:r.naturalHeight)||d.height,targetWidth:(r==null?void 0:r.naturalWidth)||d.width}):void 0,h=v?Es({backgroundPosition:m.backgroundPosition,backgroundSize:m.backgroundSize,containerHeight:d.height,containerLeft:d.left,containerTop:d.top,containerWidth:d.width,hasScalableSrc:c,offset:o,targetHeight:(r==null?void 0:r.naturalHeight)||d.height,targetWidth:(r==null?void 0:r.naturalWidth)||d.width}):void 0,x=Object.assign({},g,p,h);if(a){const N=window.innerWidth/2,C=window.innerHeight/2,E=parseFloat(String(x.left||0))+parseFloat(String(x.width||0))/2,j=parseFloat(String(x.top||0))+parseFloat(String(x.height||0))/2,O=N-E,M=C-j;l&&(x.transitionDuration="0.01ms"),x.transform=`translate(${O}px,${M}px) scale(1)`}return x},Se=e=>{if(!e)return{};if(ie(e)){const t=e.parentElement,s=e.getBoundingClientRect();if(t){const a=t.getBoundingClientRect();return{height:s.height,left:a.left-s.left,top:a.top-s.top,width:s.width}}else return{height:s.height,left:s.left,width:s.width,top:s.top}}else return{height:e.offsetHeight,left:e.offsetLeft,width:e.offsetWidth,top:e.offsetTop}},Is=e=>{const t="-zoom",s=["clip-path","fill","mask","marker-start","marker-mid","marker-end"],a=new Map;if(e.hasAttribute("id")){const r=e.id,o=r+t;a.set(r,o),e.id=o}e.querySelectorAll("[id]").forEach(r=>{const o=r.id,l=o+t;a.set(o,l),r.id=l}),a.forEach((r,o)=>{const l=`url(#${o})`,i=`url(#${r})`,c=s.map(d=>`[${d}="${l}"]`).join(", ");e.querySelectorAll(c).forEach(d=>{s.forEach(m=>{d.getAttribute(m)===l&&d.setAttribute(m,i)})})}),e.querySelectorAll("style").forEach(r=>{a.forEach((o,l)=>{r.textContent&&(r.textContent=r.textContent.replaceAll(`#${l}`,`#${o}`))})})},Ts=["img","svg",'[role="img"]',"[data-zoom]"].map(e=>`${e}:not([aria-hidden="true"])`).join(","),Ke={overflow:"",width:""};function Rs(e){return w.createElement(pt,{...e})}class pt extends w.Component{constructor(){super(...arguments),this.state={id:"",isZoomImgLoaded:!1,loadedImgEl:void 0,modalState:"UNLOADED",shouldRefresh:!1,styleGhost:{}},this.refContent=w.createRef(),this.refDialog=w.createRef(),this.refModalContent=w.createRef(),this.refModalImg=w.createRef(),this.refWrap=w.createRef(),this.imgEl=null,this.isScaling=!1,this.prevBodyAttrs=Ke,this.styleModalImg={},this.handleModalStateChange=t=>{var a,r,o,l;const{modalState:s}=this.state;t!=="LOADING"&&s==="LOADING"?(this.loadZoomImg(),window.addEventListener("resize",this.handleResize,{passive:!0}),window.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),window.addEventListener("touchmove",this.handleTouchMove,{passive:!0}),window.addEventListener("touchend",this.handleTouchEnd,{passive:!0}),window.addEventListener("touchcancel",this.handleTouchCancel,{passive:!0}),document.addEventListener("keydown",this.handleKeyDown,!0)):t!=="LOADED"&&s==="LOADED"?window.addEventListener("wheel",this.handleWheel,{passive:!0}):t!=="UNLOADING"&&s==="UNLOADING"?(this.ensureImgTransitionEnd(),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),document.removeEventListener("keydown",this.handleKeyDown,!0)):t!=="UNLOADED"&&s==="UNLOADED"&&(this.bodyScrollEnable(),window.removeEventListener("resize",this.handleResize),(r=(a=this.refModalImg.current)==null?void 0:a.removeEventListener)==null||r.call(a,"transitionend",this.handleImgTransitionEnd),(l=(o=this.refDialog.current)==null?void 0:o.close)==null||l.call(o))},this.getDialogContainer=()=>{let t=document.querySelector("[data-rmiz-portal]");return t==null&&(t=document.createElement("div"),t.setAttribute("data-rmiz-portal",""),document.body.appendChild(t)),t},this.setId=()=>{const t=()=>Math.random().toString(16).slice(-4);this.setState({id:t()+t()+t()})},this.setAndTrackImg=()=>{var s,a;const t=this.refContent.current;t&&(this.imgEl=t.querySelector(Ts),this.imgEl?((a=(s=this.contentNotFoundChangeObserver)==null?void 0:s.disconnect)==null||a.call(s),this.imgEl.addEventListener("load",this.handleImgLoad),this.imgEl.addEventListener("click",this.handleZoom),this.state.loadedImgEl||this.handleImgLoad(),this.imgElResizeObserver=new ResizeObserver(r=>{const o=r[0];o!=null&&o.target&&(this.imgEl=o.target,this.setState({styleGhost:Se(this.imgEl)}))}),this.imgElResizeObserver.observe(this.imgEl),this.contentChangeObserver||(this.contentChangeObserver=new MutationObserver(()=>{this.setState({styleGhost:Se(this.imgEl)})}),this.contentChangeObserver.observe(t,{attributes:!0,childList:!0,subtree:!0}))):this.contentNotFoundChangeObserver||(this.contentNotFoundChangeObserver=new MutationObserver(this.setAndTrackImg),this.contentNotFoundChangeObserver.observe(t,{childList:!0,subtree:!0})))},this.handleIfZoomChanged=t=>{const{isZoomed:s}=this.props;!t&&s?this.zoom():t&&!s&&this.unzoom()},this.handleImgLoad=()=>{const t=Je(this.imgEl);if(!t)return;const s=new Image;me(this.imgEl)&&(s.sizes=this.imgEl.sizes,s.srcset=this.imgEl.srcset),s.src=t;const a=()=>{this.setState({loadedImgEl:s,styleGhost:Se(this.imgEl)})};s.decode().then(a).catch(()=>{if(We(s)){a();return}s.onload=a})},this.handleZoom=()=>{var t,s;this.hasImage()&&((s=(t=this.props).onZoomChange)==null||s.call(t,!0))},this.handleUnzoom=()=>{var t,s;(s=(t=this.props).onZoomChange)==null||s.call(t,!1)},this.handleBtnUnzoomClick=t=>{t.preventDefault(),t.stopPropagation(),this.handleUnzoom()},this.handleDialogCancel=t=>{t.preventDefault()},this.handleDialogClick=t=>{(t.target===this.refModalContent.current||t.target===this.refModalImg.current)&&(t.stopPropagation(),this.handleUnzoom())},this.handleKeyDown=t=>{(t.key==="Escape"||t.keyCode===27)&&(t.preventDefault(),t.stopPropagation(),this.handleUnzoom())},this.handleWheel=t=>{t.ctrlKey||(t.stopPropagation(),queueMicrotask(()=>{this.handleUnzoom()}))},this.handleTouchStart=t=>{if(t.touches.length>1){this.isScaling=!0;return}t.changedTouches.length===1&&t.changedTouches[0]&&(this.touchYStart=t.changedTouches[0].screenY)},this.handleTouchMove=t=>{var a;const s=((a=window.visualViewport)==null?void 0:a.scale)??1;if(this.props.canSwipeToUnzoom&&!this.isScaling&&s<=1&&this.touchYStart!=null&&t.changedTouches[0]){this.touchYEnd=t.changedTouches[0].screenY;const r=Math.max(this.touchYStart,this.touchYEnd),o=Math.min(this.touchYStart,this.touchYEnd);Math.abs(r-o)>this.props.swipeToUnzoomThreshold&&(this.touchYStart=void 0,this.touchYEnd=void 0,this.handleUnzoom())}},this.handleTouchEnd=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleTouchCancel=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleResize=()=>{this.setState({shouldRefresh:!0})},this.hasImage=()=>this.imgEl&&(this.state.loadedImgEl||ie(this.imgEl))&&window.getComputedStyle(this.imgEl).display!=="none",this.zoom=()=>{var t,s,a,r;this.bodyScrollDisable(),(s=(t=this.refDialog.current)==null?void 0:t.showModal)==null||s.call(t),(r=(a=this.refModalImg.current)==null?void 0:a.addEventListener)==null||r.call(a,"transitionend",this.handleImgTransitionEnd),this.setState({modalState:"LOADING"})},this.unzoom=()=>{this.setState({modalState:"UNLOADING"})},this.handleImgTransitionEnd=()=>{clearTimeout(this.timeoutTransitionEnd),this.state.modalState==="LOADING"?this.setState({modalState:"LOADED"}):this.state.modalState==="UNLOADING"&&this.setState({shouldRefresh:!1,modalState:"UNLOADED"})},this.ensureImgTransitionEnd=()=>{if(this.refModalImg.current){const t=window.getComputedStyle(this.refModalImg.current).transitionDuration,s=parseFloat(t);if(s){const a=s*(t.endsWith("ms")?1:1e3)+50;this.timeoutTransitionEnd=setTimeout(this.handleImgTransitionEnd,a)}}},this.bodyScrollDisable=()=>{this.prevBodyAttrs={overflow:document.body.style.overflow,width:document.body.style.width};const t=document.body.clientWidth;document.body.style.overflow="hidden",document.body.style.width=`${t}px`},this.bodyScrollEnable=()=>{document.body.style.width=this.prevBodyAttrs.width,document.body.style.overflow=this.prevBodyAttrs.overflow,this.prevBodyAttrs=Ke},this.loadZoomImg=()=>{const{props:{zoomImg:t}}=this,s=t==null?void 0:t.src;if(s){const a=new Image;a.sizes=(t==null?void 0:t.sizes)??"",a.srcset=(t==null?void 0:t.srcSet)??"",a.src=s;const r=()=>{this.setState({isZoomImgLoaded:!0})};a.decode().then(r).catch(()=>{if(We(a)){r();return}a.onload=r})}},this.UNSAFE_handleSvg=()=>{var r,o,l,i,c;const{imgEl:t,refModalImg:s,styleModalImg:a}=this;if(ie(t)){const d=t.cloneNode(!0);Is(d),d.style.width=`${a.width||0}px`,d.style.height=`${a.height||0}px`,d.addEventListener("click",this.handleUnzoom),(l=(o=(r=s.current)==null?void 0:r.firstChild)==null?void 0:o.remove)==null||l.call(o),(c=(i=s.current)==null?void 0:i.appendChild)==null||c.call(i,d)}}}render(){const{handleBtnUnzoomClick:t,handleDialogCancel:s,handleDialogClick:a,handleUnzoom:r,handleZoom:o,imgEl:l,props:{a11yNameButtonUnzoom:i,a11yNameButtonZoom:c,children:d,classDialog:m,IconUnzoom:v,IconZoom:f,isZoomed:g,wrapElement:p,ZoomContent:h,zoomImg:x,zoomMargin:y},refContent:N,refDialog:C,refModalContent:E,refModalImg:j,refWrap:O,state:{id:M,isZoomImgLoaded:Z,loadedImgEl:se,modalState:U,shouldRefresh:yt,styleGhost:wt}}=this,Re=`rmiz-modal-${M}`,Ae=`rmiz-modal-img-${M}`,bt=Te(l),fe=me(l),Oe=ie(l),xe=Ss(l),Me=Je(l),jt=fe?l.sizes:void 0,St=fe?l.srcset:void 0,Nt=!!(x!=null&&x.src),Q=this.hasImage(),Ct=xe?`${c}: ${xe}`:c,Et=U==="LOADING"||U==="LOADED",Lt=Q?"found":"not-found",kt=U==="UNLOADED"||U==="UNLOADING"?"hidden":"visible",It={visibility:U==="UNLOADED"?"visible":"hidden"};this.styleModalImg=Q?ks({hasZoomImg:Nt,imgSrc:Me,isSvg:Oe,isZoomed:g&&Et,loadedImgEl:se,offset:y,shouldRefresh:yt,targetEl:l}):{};let De=null;if(Q){const Pe=fe||bt?w.createElement("img",{alt:xe,sizes:jt,src:Me,srcSet:St,...Z&&U==="LOADED"?x:{},"data-rmiz-modal-img":"",height:this.styleModalImg.height||void 0,id:Ae,ref:j,style:this.styleModalImg,width:this.styleModalImg.width||void 0}):Oe?w.createElement("div",{"data-rmiz-modal-img":!0,ref:j,style:this.styleModalImg}):null,ze=w.createElement("button",{"aria-label":i,"data-rmiz-btn-unzoom":"",onClick:t,type:"button"},w.createElement(v,null));De=h?w.createElement(h,{buttonUnzoom:ze,modalState:U,img:Pe,onUnzoom:r}):w.createElement(w.Fragment,null,Pe,ze)}return w.createElement(p,{"aria-owns":Re,"data-rmiz":"",ref:O},w.createElement(p,{"data-rmiz-content":Lt,ref:N,style:It},d),Q&&w.createElement(p,{"data-rmiz-ghost":"",style:wt},w.createElement("button",{"aria-label":Ct,"data-rmiz-btn-zoom":"",onClick:o,type:"button"},w.createElement(f,null))),Q&&Rt.createPortal(w.createElement("dialog",{"aria-labelledby":Ae,"aria-modal":"true",className:m,"data-rmiz-modal":"",id:Re,onClick:a,onClose:r,onCancel:s,ref:C,role:"dialog"},w.createElement("div",{"data-rmiz-modal-overlay":kt}),w.createElement("div",{"data-rmiz-modal-content":"",ref:E},De)),this.getDialogContainer()))}componentDidMount(){this.setId(),this.setAndTrackImg(),this.handleImgLoad(),this.UNSAFE_handleSvg()}componentWillUnmount(){var t,s,a,r,o,l,i,c,d,m,v,f;this.state.modalState!=="UNLOADED"&&this.bodyScrollEnable(),(s=(t=this.contentChangeObserver)==null?void 0:t.disconnect)==null||s.call(t),(r=(a=this.contentNotFoundChangeObserver)==null?void 0:a.disconnect)==null||r.call(a),(l=(o=this.imgElResizeObserver)==null?void 0:o.disconnect)==null||l.call(o),(c=(i=this.imgEl)==null?void 0:i.removeEventListener)==null||c.call(i,"load",this.handleImgLoad),(m=(d=this.imgEl)==null?void 0:d.removeEventListener)==null||m.call(d,"click",this.handleZoom),(f=(v=this.refModalImg.current)==null?void 0:v.removeEventListener)==null||f.call(v,"transitionend",this.handleImgTransitionEnd),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),window.removeEventListener("resize",this.handleResize),document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidUpdate(t,s){this.handleModalStateChange(s.modalState),this.UNSAFE_handleSvg(),this.handleIfZoomChanged(t.isZoomed)}}pt.defaultProps={a11yNameButtonUnzoom:"Minimize image",a11yNameButtonZoom:"Expand image",canSwipeToUnzoom:!0,IconUnzoom:ys,IconZoom:ws,swipeToUnzoomThreshold:10,wrapElement:"div",zoomMargin:0};function As(e){const[t,s]=w.useState(!1);return w.createElement(Rs,{...e,isZoomed:t,onZoomChange:s})}const He=e=>{const{plant:t,className:s}=e;return n.jsxs("div",{className:s,children:[n.jsxs(k,{className:"text-4xl flex justify-between",children:[n.jsx("span",{children:t.name}),n.jsxs("span",{className:"font-lato",children:["$",t.price]})]}),n.jsx("span",{className:"my-2 inline-block italic text-gray-400 text-lg",children:t.botanical_name})]})},Qe=e=>{const{images:t,selected:s,className:a,onClick:r,onMouseEnter:o,onMouseLeave:l}=e,i=`m-2 w-8 h-8 outline-2 md:w-12 md:h-12 md:outline-offset-4
		hover:outline hover:outline-1 group-[.selected]:hover:outline-2 hover:outline-slate-400`,c="text-lg md:text-xl text-slate-400 group-[.selected]:font-bold group-[.selected]:text-slate-600";return n.jsxs("div",{className:a,children:[n.jsxs("div",{className:"flex items-center text-2xl font-bold",children:[n.jsx(F,{className:"text-4xl",name:"format_paint"})," Pot Color"]}),n.jsx("div",{className:"flex flex-wrap justify-start",children:t.map((d,m)=>n.jsxs("div",{className:"mx-1 flex flex-col items-center "+(s===m&&"group selected"),children:[n.jsx("button",{className:z("w-5 h-5 rounded-full block",s===m&&"outline outline-1 outline-offset-2 outline-slate-400",gt[t[m].pot_color],i),onClick:()=>r(m),onMouseEnter:()=>o(m),onMouseLeave:()=>l(m)}),n.jsx("span",{className:c,children:t[m].pot_color})]},m))})]})},Os=e=>n.jsxs("div",{className:"flex",children:[n.jsxs("div",{className:"my-4 px-4 flex flex-col items-center border-r border-gray-300",children:[n.jsx(F,{name:"check_circle",className:"text-5xl"}),n.jsx("span",{className:"my-1 font-bold text-gray-700 text-center",children:"Guaranteed Healthy"}),n.jsx("span",{className:"text-gray-400 text-center",children:"Guaranteed to arrive healthy or your money back"})]}),n.jsxs("div",{className:"my-4 px-4 flex flex-col items-center",children:[n.jsx(F,{name:"delivery_truck_speed",className:"text-5xl"}),n.jsx("span",{className:"my-1 font-bold text-gray-700 text-center",children:"Free Shipping"}),n.jsx("span",{className:"text-gray-400 text-center",children:"Get free ground shipping on orders of $50 or more"})]})]}),et=({quantity:e,inProgress:t=!1,className:s,onAddToCart:a,onIncrease:r,onDecrease:o})=>{const l="text-2xl rounded-full border-2 border-neutral-400 flex items-center",i="px-2 py-1 text-4xl font-bold text-neutral-500",c=`ml-2 p-2 w-full max-w-80 rounded-full
		flex justify-center items-center
		bg-emerald-700 hover:bg-emerald-800 active:bg-emerald-600 font-medium text-white text-lg`,d=n.jsx(F,{className:"text-white",name:"add_shopping_cart"}),m=n.jsx(F,{className:"text-white animate-spin",name:"progress_activity"});return n.jsxs("div",{className:z("my-4 flex items-center",s),children:[n.jsxs("div",{className:l,children:[n.jsx("button",{className:i,onClick:o,children:n.jsx(F,{className:"text-neutral-600",name:"remove"})}),n.jsx("span",{children:e}),n.jsx("button",{className:i,onClick:r,children:n.jsx(F,{className:"text-neutral-600",name:"add"})})]}),n.jsxs("button",{className:c,onClick:a,children:[t?m:d," Add to Cart"]})]})},Ms=e=>{const t=u.useContext(R),s=Le(),[a,r]=u.useState(()=>b.has(s,"state.plantImageIdx")?s.state.plantImageIdx:0),[o,l]=u.useState(a),[i,c]=u.useState(1),[d,m]=u.useState(!1),[v,f]=u.useState({error:!1}),{plant:g}=e,p=h=>{d||(m(!0),f({error:!1}),(async()=>{const x={plant:{uuid:g.uuid,quantity:i,pot_color:g.images[a].pot_color}},y=await Gt(t==null?void 0:t.data,x);y.error===!1?console.log(`Added {${x.plant.quantity}} {${x.plant.pot_color}} plants to cart.`):console.error("Failed to get plants list. Response:",y),f(y),m(!1)})())};return n.jsxs("div",{className:"w-full max-w-5xl flex flex-col md:flex-row",children:[n.jsx(He,{className:"md:hidden",plant:g}),n.jsx(Qe,{className:"my-4 md:hidden",images:g.images,selected:a,onClick:h=>{r(h),l(h)},onMouseEnter:h=>l(h),onMouseLeave:()=>l(a)}),n.jsx(et,{className:"md:hidden",quantity:i,inProgress:d,onAddToCart:p,onIncrease:h=>c(i+1),onDecrease:h=>c(i>1?i-1:1)}),n.jsxs("div",{className:"flex-1 flex flex-col",children:[n.jsx(As,{children:n.jsx("img",{className:"rounded-lg",title:g.botanical_name,src:g.images[o].src})}),n.jsx(Os,{})]}),n.jsxs("div",{className:"md:ml-8 flex-1 flex flex-col",children:[n.jsx(He,{className:"hidden md:block",plant:g}),n.jsx(I,{className:"py-2 px-0 text-gray-600",children:g.description}),n.jsx(Qe,{className:"my-4 hidden md:block",images:g.images,selected:a,onClick:h=>{r(h),l(h)},onMouseEnter:h=>l(h),onMouseLeave:()=>l(a)}),n.jsx(et,{className:"hidden md:flex",quantity:i,inProgress:d,onAddToCart:p,onIncrease:h=>c(i+1),onDecrease:h=>c(i>1?i-1:1)})]})]})},tt=1,Ds=()=>{const e=u.useContext(R),{uuid:t}=At(),[s,a]=u.useState(null),[r,o]=u.useState({error:!1}),l=async()=>{if(s===tt)return;o({error:!1}),a(tt);const c=await Ut(e==null?void 0:e.data,t);c.error===!1?a(c.data):(console.error("Failed to get plants list. Response:",c),a(null)),o(c)};u.useEffect(()=>{l()},[e.data,t]);const i=n.jsx("div",{className:"flex justify-center",children:n.jsx(J,{className:"mt-28"})});return n.jsxs(H,{not:!0,path:"/sign-in",children:[n.jsx(K,{}),n.jsxs(L,{className:"py-24 px-8 flex justify-center",children:[(r==null?void 0:r.error)!==!1&&n.jsxs("div",{className:"px-2 py-1 m-auto text-center max-w-80 bg-rose-100 border border-rose-300 rounded-lg text-red-600 font-medium",children:[r.message,n.jsx("br",{}),n.jsx("button",{onClick:()=>l(),className:"px-2 py-1 border border-gray-600 rounded-md",children:"Retry?"})]}),b.isObject(s)&&n.jsx(Ms,{plant:s})||(r==null?void 0:r.error)===!1&&i]})]})},Ps=()=>n.jsx(n.Fragment,{children:n.jsx(Mt,{})}),zs=()=>(Le(),u.useContext(R),n.jsx(Ot,{children:n.jsxs(_,{element:n.jsx(Ps,{}),children:[n.jsx(_,{path:"/",element:n.jsx(as,{})}),n.jsx(_,{path:"/sign-in",element:n.jsx(ms,{})}),n.jsx(_,{path:"/sign-up",element:n.jsx(hs,{})}),n.jsx(_,{path:"/style-guide",element:n.jsx(rs,{})}),n.jsx(_,{path:"/plants",element:n.jsx(ps,{})}),n.jsx(_,{path:"/plant/:uuid",element:n.jsx(Ds,{})}),n.jsx(_,{path:"/cart",element:n.jsx(fs,{})}),n.jsx(_,{path:"*",element:n.jsx(ns,{})})]})})),_s="bg-emerald-50 font-lato text-emerald-600",Fs=Dt([{path:"*",element:n.jsx(zs,{})}]),Us=()=>{const[e,t]=u.useState(()=>Bt()),s={data:e,isActive:()=>b.isObject(e),signIn:a=>{t(a),Ft(a)},signOut:async()=>{let a=!1;return b.isObject(e)?(console.log(`Sign out user {${e.username}}.`),a=await qt(e)):console.log("No user was signed in."),t(null),st(),a}};return n.jsx(R.Provider,{value:s,children:n.jsx("div",{className:`${_s} min-h-screen`,children:n.jsx(Pt,{router:Fs})})})};export{Us as default};
