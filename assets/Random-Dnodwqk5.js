import{r as m,j as e}from"./index-DZxVDkqq.js";import"./services-Bu_7CigI.js";import{M as g}from"./MersenneTwister-DuWuIa_7.js";import{F as E}from"./Form-BStrab0i.js";const w="Pseudorandom Number Generator";let o=new g(1);const u=r=>e.jsx("button",{className:`my-2 mx-1 px-2 py-1 bg-blue-500 text-xl text-white rounded-md hover:bg-blue-600 active:bg-blue-700
					   disabled:bg-neutral-400`,...r,children:r.children}),h="p-2 border border-gray-300 bg-violet-100",b="p-2 border border-gray-300 bg-white",C=({list:r})=>{const d=[];return r.forEach((t,i)=>t.forEach((a,c)=>d.push(e.jsx(v,{seed:i,serial:c,number:a},`${i}.${c}-${a}`)))),e.jsxs("table",{className:"border-2 border-gray-500",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:h,children:"Seed"}),e.jsx("th",{className:h,children:"Iteration"}),e.jsx("th",{className:h,children:"Random Number"})]})}),e.jsx("tbody",{children:d})]})},v=({seed:r,serial:d,number:t})=>e.jsxs("tr",{children:[e.jsx("td",{className:b,children:r}),e.jsx("td",{className:b,children:d}),e.jsx("td",{className:b,children:t})]}),I=()=>{const[r,d]=m.useState(null),[t,i]=m.useState(1),[a,c]=m.useState(new Map),[n,x]=m.useState(t),N=()=>{const s={seed:t,list:JSON.stringify(Array.from(a.entries())),mt:o.mt,mti:o.mti},l=JSON.stringify(s);d(l)},S=()=>{if(!r)return;const s=JSON.parse(r);o=new g(128),o.mt=s.mt,o.mti=s.mti,i(s.seed),x(s.seed),c(new Map(JSON.parse(s.list)))},p=s=>(a.has(s)||a.set(s,[]),a.get(s)),f=()=>{o.seed(t),c(new Map)},j=()=>{console.log(`Generate number using seed ${t}.`),p(t).push(o.int()),c(new Map(a))},y=()=>{if(t===n)return;console.log(`Seed will be updated to ${n}.`),o.seed(n),p(n).forEach(()=>o.int()),i(n)};return m.useEffect(()=>{const s=l=>{l.altKey||l.ctrlKey||l.metaKey||l.shiftKey||(l.code==="KeyC"?f():l.code==="KeyG"?j():l.code==="ArrowUp"?n<Number.MAX_SAFE_INTEGER&&x(n+1):l.code==="ArrowDown"?n>1&&x(n-1):l.code==="Enter"&&y())};return document.body.addEventListener("keyup",s),()=>{document.body.removeEventListener("keyup",s)}},[t,a,n,r]),e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"m-4 text-4xl text-center",children:w}),e.jsxs("div",{className:"m-auto mt-6 max-w-2xl py-6 px-4 rounded-xl bg-neutral-100 flex flex-col items-center",children:[e.jsxs("div",{className:"m-2",children:[e.jsx(u,{onClick:()=>N(),children:"Save"}),e.jsx(u,{disabled:!r,onClick:()=>S(),children:"Load"})]}),e.jsxs("div",{className:"m-2",children:["Use up/down arrow keys to increase or decrease seed.",e.jsx("br",{}),"Enter - updates the current seed.",e.jsx("br",{}),"C - clears the list of seeds.",e.jsx("br",{}),"G - generate number, using the current seed."]}),e.jsxs("div",{className:"m-2 text-xl flex flex-col items-center",children:[e.jsx("span",{children:"Current seed:"}),e.jsx("span",{className:"font-bold",children:t})]}),e.jsxs(E,{onKeyUp:s=>s.stopPropagation(),onKeyDown:s=>s.stopPropagation(),className:"flex flex-col",onSubmit:j,children:[e.jsx(u,{onClick:f,type:"button",children:"Clear List"}),e.jsxs("div",{children:[e.jsx("input",{className:"my-2 mx-1 px-2 py-1 w-48 bg-blue-100 text-xl rounded-md",type:"number",min:1,max:Number.MAX_SAFE_INTEGER,name:"batchSize",value:n,onChange:s=>x(parseInt(s.target.value))}),e.jsx(u,{onClick:y,type:"button",children:"Set Seed"})]}),e.jsx(u,{type:"submit",children:"Generate"})]}),e.jsx("div",{className:"flex flex-col",children:e.jsx(C,{list:a})})]})]})};export{w as PAGE_TITLE,I as default};
